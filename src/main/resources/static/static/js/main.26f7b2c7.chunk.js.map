{"version":3,"sources":["serviceWorker.ts","contexts/screen-context.tsx","api/axiosCient.ts","contexts/admin-authencation.tsx","api/admin/admin-api.ts","admin-auth.ts","common/Utils.ts","components/wform.tsx","components/winput.tsx","constants.ts","logo-svg/loading.tsx","pages/admin/admin-login.tsx","pages/admin/admin-logout.tsx","contexts/admin-overide-window.tsx","components/wdropdown.tsx","logo-svg/menu.tsx","page-component/admin/admin-header.tsx","page-component/admin/menu-tab.tsx","logo-svg/cancel.tsx","page-component/admin/admin-message-request.tsx","pages/admin/admin-user/add-user.tsx","components/image-error.tsx","components/wcheckbox.tsx","logo-svg/first.tsx","logo-svg/last.tsx","logo-svg/next.tsx","logo-svg/previous.tsx","logo-svg/reload.tsx","components/wtable.tsx","logo-svg/add.tsx","logo-svg/edit.tsx","pages/admin/admin-user/admin-groups.tsx","pages/admin/admin-user/edit-user.tsx","pages/admin/admin-user/reset-password.tsx","pages/admin/admin-user/update-permissions.tsx","pages/admin/admin-user/detail-user.tsx","pages/admin/admin-user/admin-users-view.tsx","api/admin/author-api.tsx","api/admin/book-api.tsx","api/admin/category-api.tsx","api/admin/publisher-api.tsx","components/list-select.tsx","pages/admin/book/add-book.tsx","api/admin/group-api.ts","pages/admin/book/view-book.tsx","pages/admin/group-permission/add-group-permisison.tsx","pages/admin/group-permission/update-group.tsx","pages/admin/group-permission/update-group-permissions.tsx","pages/admin/group-permission/detail-group-permission.tsx","pages/admin/group-permission/view-group-permission.tsx","api/admin/permission-api.ts","pages/admin/permission/add-permission.tsx","pages/admin/permission/update-permission.tsx","pages/admin/permission/detail-permission.tsx","pages/admin/permission/view-permission.tsx","pages/admin/admin-page.tsx","App.tsx","index.tsx"],"names":["Boolean","window","location","hostname","match","ScreenContext","React","createContext","undefined","ScreenProvider","props","state","screenInnerWidth","innerWidth","addEventListener","setState","Provider","value","this","children","Component","axiosClient","axios","create","baseURL","process","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","config","localStorage","token","console","log","response","resp","data","message","code","error","setLoginContext","AdminUserAPI","login","post","logout","get","getAllUser","pageInfo","addUser","deleteUsers","ids","delete","uploadAvatar","formData","FormData","append","id","image","put","editUser","getUser","updateUser","getAdminPermissions","userId","updateAdminPermissions","permissionsIds","permissionIds","resetPasswordUser","password","getAllGroups","adminCode","updateAdminGroups","AdminAuthentication","AdminAuthenticationProvider","isLogin","authentication","admin","setItem","JSON","a","removeItem","pathname","Utils","formToJson","result","entries","name","hasOwnProperty","Array","push","lostFocus","$","focus","getPageRequest","pageDefault","page","limit","search","URLSearchParams","Number","parseInt","isInteger","mapValue","mapLowCase","i","String","fromCharCode","filterString","getText","toLowerCase","split","map","newVal","length","filter","countIndex","nextChar","char","setToArray","size","index","WForm","formRef","createRef","winputInvalidBar","current","parentElement","Object","key","input","attr","radio","checked","v","checkbox","createElement","onSubmit","evt","currentTarget","preventDefault","ref","WInput","otherValid","inputValid","isFocusOut","nextProps","isValidInput","cssConfig","onFocusEvt","onBlurEvt","inputProps","is_invalid","no_title_animation","title_input","style","border","onFocus","Function","onBlur","className","from","reverse","duration","durian","width","left","fontSize","smallLabelSize","top","labelValidLocation","inputFontSize","labelInvalidLocation","WInputOther","SYSTEM_CONSTANTS","ERROR_REQUEST","TOKEN_INVALID","PERMISSION_NOT_ALLOW","PAGE_OUT_INDEX","FAILED","REGEX","email","numbers","ALERT_STATUS_PROPS","NETWORK_ERROR","REQUEST_INVALID","WAIT_REQUEST","REQUEST_SUCCESS","LoadingSVG","xmlns","xmlnsXlink","version","x","y","viewBox","xmlSpace","d","LoginPage","accountType","statusLogin","accountInput","passwordInput","userInputType","isWattingRequest","inputText","paramName","Promise","resolve","isSkipTimeout","setCompelete","setTimeout","statusLoginCompelete","user","Consumer","to","padding","bind","type","required","onChange","userTypeOnChange","disabled","output","marginRight","height","AdminLogout","redirect","AdminOverrideWindow","AdminOverrideWindowProvider","windows","addWindow","removeWindow","indexOf","slice","clear","WDropdown","isOpen","Dropdown","toggle","dropdownToggle","dropdownMenu","MenuSVG","AdminHeader","isSmallScreen","toggleClass","userInfo","parse","minScreenResizeMenuTab","removeClass","Button","onClick","toggleMenu","fill","DropdownToggle","color","borderRadius","fontWeight","lineHeight","fullname","boxShadow","src","onError","DropdownMenu","right","DropdownItem","count","MenuTab","itemMenu","title","content","items","item","renderItem","hrefLink","getAdminHeader","menu","MenuDropDown","isCollapsed","CancelSVG","transform","AdminMessageRequest","isHide","is_hide","isWaitRequest","requestMethod","onBeforeSendRequest","hideWaiting","waitingMessage","hideWhenDone","getFailed","onAfterSendRequest","nextProp","nextState","minWidth","AddAdminUser","messageRequest","avatar","avatarInput","phone","identityDocument","dateOfBirth","address","gender","passwordConfirm","passwordConfirmInput","isDisable","fieldChange","otherAction","setDisable","sendRequest","addUserReq","files","file","onSubmitForm","alt","click","inputChange","pwConfirm","display","accept","reader","FileReader","onload","target","readAsDataURL","radioInputGender","defaultChecked","marginTop","ImageError","WCheckBox","isChecked","gradientUnits","x1","x2","y1","y2","offset","stopColor","FirstSVG","stroke","data-original","LastSVG","NextSVG","PreviousSVG","ReloadSVG","WTable","tableBody","pageData","pageValue","limitValue","isWaiting","reloadPage","pageGet","getPage","onPageChangeEvent","pageChange","limitChange","Table","hover","e","inRow","fillData","Container","fluid","Row","Col","md","sm","InputGroup","InputGroupAddon","addonType","Input","maxWidth","textAlign","min","totalPage","totalRecord","ButtonGroup","AddSVG","EditSVG","points","UpdateGroups","groupsSelected","Set","refComponent","typeSearch","searchValue","justShowSelected","groups","getAllGroup","adminMessageRequest","adminInfo","trim","group","adminId","groupIds","updateGroups","findGroup","groupExits","isAllow","add","has","groupCode","EditAdminUser","wform","setInput","moment","format","isValidInputs","update","messageErrorUploadImage","onUpdate","updateAdminUser","AdminResetPassword","UpdatePermissions","permissionSelected","isFirstRender","permissions","getAllPermission","per","method","updatePermissions","findPermission","permission","permissionExits","api","DetailAdminUser","editForm","oldLocation","viewAction","isNotFoundUser","nextUpdate","isUpdateSuccess","getAttribute","closeMessage","btnGoBack","goBack","history","replaceState","url","action","firstChild","view-action","menuClickEvent","createBy","createDate","calendar","modifiedBy","getData","resultReq","AdminUserPage","firstNumOfKey","tableRef","idsSelected","requestMessage","isSelectedAll","idEdit","deleteUserSelected","getPageUser","pushState","isUnlimited","splice","find","err-src","modifiedDate","alertColor","setMessage","AuthorAPI","getAll","BookAPI","getBooks","addBook","CategoryAPI","getAllCategory","PublisherAPI","ListSelect","valueSelected","isSelectAll","onComplete","each","valueSelect","toggleSelectAll","changeFilter","propertySearch","viewSearch","header","dataExits","getKey","getAllow","viewData","AddBook","form","bookImageInput","bookImageView","isShowCategories","publishers","categories","authors","unlimited","then","setData","isbn","pageNumber","price","description","edition","values","publisher","inputList","readOnly","keys","category","join","whiteSpace","categoriesView","categoryCode","authorView","authorCode","xs","rows","GroupPermissionAPI","addGroup","deleteGroups","getGroup","updateGroup","getAllPermissionInGroup","ViewBook","idSelected","deleteIdsSelected","quantity","showDetailPage","AddGroupPermission","UpdateGroupInfo","groupInfo","onUpdateSuccess","UpdateGroupPermission","groupId","DetailGroupPermission","isNotFoundResult","ViewGroupPermission","href","PermissionAPI","addPermission","deletePermissions","getPermission","updatePermission","AddPermission","permissionCode","setInputOnChange","UpdatePermission","inputValidPermissionCode","permissionInfo","DetailPermission","ViewPermission","AdminPage","isClearWindow","adminHeader","isHideScroll","position","Math","random","exact","path","component","w","zIndex","App","render","NotFound","ReactDOM","StrictMode","document","getElementById","time","Date","getTime","getSelection","removeAllRanges","loginDefault","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.26f7b2c7.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","\r\nimport React from 'react';\r\n\r\nexport const ScreenContext = React.createContext<IContextState>(undefined as any);\r\n\r\ninterface IContextState {\r\n    screenInnerWidth: number\r\n}\r\n\r\nexport default class ScreenProvider extends React.Component<any, IContextState>{\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            screenInnerWidth: window.innerWidth,\r\n\r\n        }\r\n        window.addEventListener('resize', () => {\r\n            this.setState(state => { return { screenInnerWidth: window.innerWidth } });\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <ScreenContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </ScreenContext.Provider>\r\n        )\r\n    }\r\n}","import axios from 'axios';\r\nimport queryString from 'query-string';\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    headers: {\r\n        'content-type': 'application/json'\r\n    },\r\n    paramsSerializer: (params) => { return queryString.stringify(params) }\r\n});\r\n\r\naxiosClient.interceptors.request.use((config) => {\r\n    config.headers['Authorization'] = localStorage.token;\r\n    console.log(config);\r\n    return config;\r\n});\r\n\r\naxiosClient.interceptors.response.use((resp) => {\r\n    console.log('result', resp);\r\n    try {\r\n        switch (resp.data.message.code) {\r\n            case 0:\r\n                return resp.data;\r\n            default:\r\n                throw resp.data;\r\n        }\r\n    } catch (error) {\r\n        throw resp.data;\r\n    }\r\n\r\n}, (error) => {\r\n    console.log('error', error);\r\n    throw error;\r\n});\r\n\r\nexport default axiosClient;","\r\nimport React from 'react';\r\nimport authentication from '../admin-auth';\r\n\r\nexport const AdminAuthentication = React.createContext<AdminAuthenticationState>(undefined as any);\r\n\r\ninterface AdminAuthenticationState {\r\n    isLogin: boolean\r\n}\r\n\r\nexport let setLoginContext: (isLogin: boolean) => any;\r\nexport default class AdminAuthenticationProvider extends React.Component<{}, AdminAuthenticationState>{\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            isLogin: authentication.isLogin(),\r\n        }\r\n        setLoginContext = (isLogin) => { this.setState({ isLogin: isLogin }) };\r\n    }\r\n    render() {\r\n        return (\r\n            <AdminAuthentication.Provider value={\r\n                { isLogin: this.state.isLogin }\r\n            }>\r\n                {this.props.children}\r\n            </AdminAuthentication.Provider>\r\n        )\r\n    }\r\n}","import axiosClient from \"../axiosCient\";\r\nimport { APIResult } from \"../declare\";\r\nimport { GroupPermissionAPIResult } from \"./group-api\";\r\n\r\nconst AdminUserAPI = {\r\n    login: (data: { email?: string, username?: string, password: string }) => {\r\n        return axiosClient.post('/admin/login', data);\r\n    },\r\n    logout: () => {\r\n        return axiosClient.get('/admin/logout');\r\n    },\r\n    getAllUser: (pageInfo: { page: number, limit: number, isUnlimited?: boolean }): Promise<APIResult<AdminUserResult, {\r\n        \"offset\": number,\r\n        \"totalPage\": number,\r\n        \"page\": number,\r\n        \"totalRecord\": number\r\n    }>> => {\r\n        return axiosClient.get('/admin/admin-users', { params: pageInfo });\r\n    },\r\n    addUser: (data: AdminDTO) => {\r\n        return axiosClient.post('/admin/admin-user', data);\r\n    },\r\n    deleteUsers: (ids: (number | string)[]) => {\r\n        return axiosClient.delete('/admin/admin-users', { data: { ids: ids } });\r\n    },\r\n    uploadAvatar: (data: { image: File, id: number }) => {\r\n        let formData = new FormData();\r\n        formData.append('id', data.id as any);\r\n        formData.append('image', data.image as any);\r\n        return axiosClient.put('/admin/admin-user/upload-avatar', formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' }\r\n        })\r\n    },\r\n    editUser: (data: AdminDTO) => {\r\n        return axiosClient.put('/admin/admin-user', data);\r\n    },\r\n    getUser: (data: { id: any, adminCode: string }): Promise<APIResult<AdminUserResult>> => {\r\n        return axiosClient.get('/admin/admin-user', { params: data });\r\n    },\r\n    updateUser: (data: AdminDTO): Promise<APIResult> => {\r\n        return axiosClient.put('/admin/admin-user', data);\r\n    },\r\n    getAdminPermissions: (userId: number): Promise<APIResult<AdminPermissionsResult[]>> => {\r\n        return axiosClient.get('/admin/admin-user/permissions', { params: { id: userId } });\r\n    },\r\n    updateAdminPermissions: (userId: number, permissionsIds: number[]) => {\r\n        return axiosClient.put('/admin/admin-user/permissions', {\r\n            userId: userId,\r\n            permissionIds: permissionsIds\r\n        })\r\n    },\r\n    resetPasswordUser: (userId: number, password: string) => {\r\n        return axiosClient.put('/admin/admin-user/reset-password', {userId: userId, password: password});\r\n    },\r\n    getAllGroups: (adminCode: string)=>{\r\n        return axiosClient.get('/admin/admin-user/groups', {params: {adminCode: adminCode}});\r\n    },\r\n    updateAdminGroups: (data: {adminId: number, groupIds: number[]})=>{\r\n        return axiosClient.put('/admin/admin-user/groups', data);\r\n    }\r\n}\r\nexport default AdminUserAPI;\r\n\r\nexport interface AdminUserResult {\r\n    \"adminCode\": string,\r\n    \"fullname\": string,\r\n    \"address\": string,\r\n    \"gender\": number,\r\n    \"createDate\": string\r\n    \"createBy\": string,\r\n    \"dateOfBirth\": string,\r\n    \"phone\": string,\r\n    \"email\": string,\r\n    \"status\": number,\r\n    \"identityDocument\": string,\r\n    \"modifiedDate\": string,\r\n    \"modifiedBy\": string,\r\n    \"id\": number,\r\n}\r\n\r\nexport interface AdminDTO {\r\n    id?: string\r\n    adminCode?: string\r\n    fullname?: string\r\n    identityDocument?: string\r\n    email?: string\r\n    gender?: string\r\n    address?: string\r\n    phone?: string\r\n    dateOfBirth?: string\r\n    password?: string\r\n}\r\nexport interface AdminPermissionsResult {\r\n    \"isAllow\": boolean,\r\n    \"method\": string,\r\n    \"code\": string,\r\n    \"description\": string,\r\n    \"name\": string,\r\n    \"api\": string,\r\n    \"id\": number\r\n}\r\nexport interface AdminGroupAPIResult extends GroupPermissionAPIResult{\r\n    isAllow?: boolean\r\n}","import axiosClient from \"./api/axiosCient\";\r\nimport AdminUserAPI from \"./api/admin/admin-api\";\r\nimport Axios from \"axios\";\r\nimport { setLoginContext } from \"./contexts/admin-authencation\";\r\n\r\nconst authentication = {\r\n    login: (token: string, admin: any) => {\r\n        localStorage.setItem('admin', JSON.stringify(admin));\r\n        localStorage.setItem('token', token);\r\n        setLoginContext(true);\r\n    },\r\n    logout: async () => {\r\n        localStorage.removeItem('admin');\r\n        let token = localStorage.token;\r\n        if (token) {\r\n            try{\r\n                await AdminUserAPI.logout();\r\n            }catch(e){}\r\n        }\r\n        localStorage.removeItem('token');\r\n        if(window.location.pathname !== '/admin/logout'){\r\n            setLoginContext(false);\r\n        };\r\n    },\r\n    isLogin: (): boolean => {\r\n        if (!localStorage.token) {\r\n            localStorage.removeItem('admin');\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n\r\n    }\r\n};\r\n\r\nexport default authentication;","const Utils = {\r\n    formToJson: (formData: FormData) => {\r\n        let result: any = {};\r\n        for (let [name, value] of (formData.entries() as any)) {\r\n            if (result.hasOwnProperty(name)) {\r\n                if (result[name] instanceof Array) {\r\n                    result[name].push(value);\r\n                } else {\r\n                    result[name] = [result[name], value];\r\n                }\r\n            } else {\r\n                result[name] = value;\r\n            }\r\n        }\r\n        return result;\r\n    },\r\n    lostFocus: () => {\r\n        $('#lost-focus').focus();\r\n    },\r\n    getPageRequest: (pageDefault: { page: number, limit: number } = { page: 1, limit: 10 }) => {\r\n        let search = new window.URLSearchParams(window.location.search as any);\r\n        let page: number = Number.parseInt(search.get('page') as any)\r\n        if (!Number.isInteger(page)) page = pageDefault.page;\r\n        let limit: number = Number.parseInt(search.get('limit') as any)\r\n        if (!Number.isInteger(limit)) limit = pageDefault.limit;\r\n        return { page: page, limit: limit }\r\n    },\r\n    mapValue: (() => {\r\n        let vnMap = { 'á': 'a', 'à': 'a', 'ả': 'a', 'ã': 'a', 'ạ': 'a', 'ă': 'a', 'ắ': 'a', 'ằ': 'a', 'ẳ': 'a', 'ẵ': 'a', 'ặ': 'a', 'â': 'a', 'ấ': 'a', 'ầ': 'a', 'ẩ': 'a', 'ẫ': 'a', 'ậ': 'a', 'é': 'e', 'è': 'e', 'ẻ': 'e', 'ẽ': 'e', 'ẹ': 'e', 'ê': 'e', 'ế': 'e', 'ề': 'e', 'ể': 'e', 'ễ': 'e', 'ệ': 'e', 'í': 'i', 'ì': 'i', 'ỉ': 'i', 'ĩ': 'i', 'ị': 'i', 'ó': 'o', 'ò': 'o', 'ỏ': 'o', 'õ': 'o', 'ọ': 'o', 'ô': 'o', 'ố': 'o', 'ồ': 'o', 'ổ': 'o', 'ỗ': 'o', 'ộ': 'o', 'ú': 'u', 'ù': 'u', 'ủ': 'u', 'ũ': 'u', 'ụ': 'u', 'ư': 'u', 'ứ': 'u', 'ừ': 'u', 'ử': 'u', 'ữ': 'u', 'ự': 'u', 'ý': 'y', 'ỳ': 'y', 'ỷ': 'y', 'ỹ': 'y', 'ỵ': 'y' };\r\n        let mapLowCase: any = {};\r\n        let specialCharacter = { '_': ' ', '-': ' ' };\r\n        for (let i = 97; i < 123; i++) {\r\n            mapLowCase[String.fromCharCode(i - 32)] = String.fromCharCode(i);\r\n        }\r\n        return { ...vnMap, ...mapLowCase, ...specialCharacter };\r\n    })(),\r\n    filterString: (value: string, getText: (value: any) => string) => {\r\n        return {\r\n            data: value.toLowerCase().split('')\r\n                .map((value) => {\r\n                    let newVal = Utils.mapValue[value];\r\n                    if (newVal) { return newVal; }\r\n                    return value;\r\n                }),\r\n            length: value.length,\r\n            map: Utils.mapValue,\r\n            getText: getText,\r\n            filter: function (data: any) {\r\n                let countIndex = 0;\r\n                let nextChar = this.data[countIndex];\r\n                for (let char of this.getText(data)) {\r\n                    if (countIndex !== this.length) {\r\n                        if (nextChar === char || this.map[char] === nextChar) {\r\n                            nextChar = this.data[++countIndex];\r\n                        }\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n                return countIndex === this.length;\r\n            }\r\n        }\r\n    },\r\n    setToArray: <K>(data: Set<K>): K[] => {\r\n        let result = new Array(data.size);        \r\n        let index = 0;\r\n        for (let value of data as any) {\r\n            result[index++] = value;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nexport default Utils;","import React from \"react\";\r\nimport Utils from \"../common/Utils\";\r\ninterface WFormProps extends React.HTMLProps<HTMLFormElement> {\r\n\r\n}\r\nexport default class WForm extends React.Component<WFormProps> {\r\n    formRef: React.RefObject<HTMLFormElement> = React.createRef();\r\n    isValidInputs() {\r\n        let winputInvalidBar = $('.invalid', (this.formRef.current as any))[0];\r\n        if (winputInvalidBar) {\r\n            $(winputInvalidBar.parentElement as HTMLElement).children('input').focus();\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    setData(data: any) {\r\n        if (data instanceof Object) {\r\n            for (let key in data) {\r\n                let input: JQuery<HTMLInputElement> = $(`[name=\"${key}\"]`, this.formRef.current as any);\r\n                let value = data[key];\r\n                if (input.length > 0) {\r\n                    switch (input.attr('type')) {\r\n                        case 'radio':\r\n                            for (let radio of (input as any)) {\r\n                                if (radio.value == value) radio.checked = true;\r\n                                break;\r\n                            }\r\n                            break;\r\n                        case 'checkbox':\r\n                            if (value instanceof Array) {\r\n                                for (let v of value) {\r\n                                    let checkbox = $(`[name=\"${key}\"][value=\"${v}\"]`, this.formRef.current as any);\r\n                                    checkbox[0] && ((checkbox[0] as any).checked = true)\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            input[0].value = value;\r\n                            input[0].focus();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Utils.lostFocus();\r\n    }\r\n    getData() {\r\n        return Utils.formToJson(new FormData(this.formRef.current as any));\r\n    }\r\n    render() {\r\n        return React.createElement('form', {\r\n            ... this.props, onSubmit: (evt) => {\r\n                let winputInvalidBar = $('.invalid', evt.currentTarget)[0];\r\n                if (winputInvalidBar) {\r\n                    evt.preventDefault();\r\n                    $(winputInvalidBar.parentElement as HTMLElement).children('input').focus();\r\n                } else {\r\n                    this.props.onSubmit && this.props.onSubmit(evt);\r\n                }\r\n            },\r\n            ref: this.formRef\r\n        });\r\n    }\r\n}","import React from \"react\";\r\nimport { Spring } from 'react-spring/renderprops';\r\nimport './winput.scss';\r\n\r\ninterface WInputProps extends React.HTMLProps<HTMLInputElement> {\r\n    title_input: string,\r\n    is_invalid?: boolean,\r\n    no_title_animation?: boolean\r\n}\r\nexport default class WInput extends React.Component<WInputProps, { inputValid: boolean, isFocusOut: boolean }> {\r\n    static config = {\r\n        durian: 80,\r\n        cssConfig: {\r\n            inputFontSize: 15,\r\n            smallLabelSize: 12,\r\n            labelInvalidLocation: 28,\r\n            labelValidLocation: 28 - 12 - 8 - 6\r\n        }\r\n    }\r\n    otherValid: boolean;\r\n    input: React.RefObject<HTMLInputElement>;\r\n    constructor(props: WInputProps) {\r\n        super(props);\r\n        this.state = {\r\n            inputValid: props.value ? true : false,\r\n            isFocusOut: true\r\n        };\r\n        this.input = React.createRef();\r\n        this.otherValid = false;\r\n    }\r\n    setValid(value: any) {\r\n        this.setState({ inputValid: value ? true : false });\r\n    }\r\n    shouldComponentUpdate(nextProps: any) {\r\n        if (this.props !== nextProps) {\r\n            this.otherValid = nextProps.value ? true : false;\r\n        } else {\r\n            this.otherValid = false;\r\n        }\r\n        return true;\r\n    }\r\n    render() {\r\n        let { inputValid, isFocusOut } = this.state;\r\n        inputValid = inputValid || this.otherValid;\r\n        let isValidInput = this.props[\"is_invalid\"];\r\n        let { config } = WInput;\r\n        let { cssConfig } = config;\r\n        let onFocusEvt = () => {\r\n            this.setState({ inputValid: true, isFocusOut: false });\r\n        }\r\n        let onBlurEvt = (evt: any) => {\r\n            this.setState({ inputValid: evt.currentTarget.value.length !== 0, isFocusOut: true })\r\n        }\r\n\r\n        let inputProps = {\r\n            ... this.props,\r\n            ... { is_invalid: null, no_title_animation: null, title_input: null },\r\n            style: (isValidInput || !isFocusOut) ? { border: 'none' } : null,\r\n            value: this.props.value,\r\n            ref: this.input,\r\n            onFocus: this.props.onFocus instanceof Function\r\n                ? (evt: any) => { onFocusEvt(); (this.props.onFocus as any)(evt); } : onFocusEvt,\r\n            onBlur: this.props.onBlur instanceof Function\r\n                ? (evt: any) => { onBlurEvt(evt); (this.props.onBlur as any)(evt); } : onBlurEvt\r\n        };\r\n        return (\r\n            <div className=\"winput-group\" style={this.props.style}>\r\n                {\r\n                    React.createElement('input', inputProps)\r\n                }\r\n                <Spring from={{ size: isFocusOut ? 0 : 60 }} reverse={true} config={{ duration: config.durian }}>\r\n                    {({ size }) => <div key=\"1\" className={'bar' + (isValidInput ? ' invalid' : '')}\r\n                        style={isValidInput ? { width: '100%' } : { width: isFocusOut ? 0 : `${size + 40}%`, left: `${30 - (size / 2)}%` }}>\r\n                    </div>}\r\n                </Spring>\r\n                <Spring from={inputValid || this.props[\"no_title_animation\"] ?\r\n                    { fontSize: cssConfig.smallLabelSize, top: cssConfig.labelValidLocation }\r\n                    : { fontSize: cssConfig.inputFontSize, top: cssConfig.labelInvalidLocation }\r\n                } reverse={true} config={{ duration: config.durian }}>\r\n                    {(props) => <label key=\"2\" style={props} className={isFocusOut ? '' : 'focus'}>{this.props[\"title_input\"]}</label>}\r\n                </Spring>\r\n\r\n            </div >\r\n\r\n        )\r\n    }\r\n}\r\n\r\ninterface WInputOtherProps {\r\n    title_input: string\r\n}\r\nexport class WInputOther extends React.Component<WInputOtherProps, any>{\r\n    render() {\r\n        return <div className=\"winput-group-other\">\r\n            {this.props.children}\r\n            <label>{this.props.title_input}</label>\r\n            <div className=\"bar\"></div>\r\n        </div>\r\n    }\r\n}","\r\nconst SYSTEM_CONSTANTS = {\r\n    ERROR_REQUEST: {\r\n        TOKEN_INVALID: -1,\r\n        PERMISSION_NOT_ALLOW: -2,\r\n        PAGE_OUT_INDEX: 2,\r\n        FAILED: 1\r\n    },\r\n    REGEX: {\r\n        code: /^[a-zA-Z0-9]+([._]?[a-zA-Z0-9]+)*$/g,\r\n        email: /^[a-z][a-z0-9_\\.]{5,32}@[a-z0-9]{2,}(\\.[a-z0-9]{2,4}){1,2}$/g,\r\n        numbers: /^[0-9]*$/g\r\n    },\r\n    ALERT_STATUS_PROPS: {\r\n        NETWORK_ERROR: {children: 'Kết nối hỏng', className: 'alert alert-danger'},\r\n        REQUEST_INVALID: {children: 'Thông tin gửi không hợp lệ', className: 'alert alert-danger'},\r\n        WAIT_REQUEST: {children: 'Đang xử lí', className: 'alert alert-success loading-text'},\r\n        REQUEST_SUCCESS: {children: 'Đã xong!', className: 'alert alert-success'},\r\n    }\r\n}\r\n\r\nexport default SYSTEM_CONSTANTS;","import React from 'react';\r\n\r\nconst LoadingSVG = (props: any) => {\r\n    return (\r\n        <svg style={props.style} className={props.className} id={props.id} xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 489.711 489.711\" xmlSpace=\"preserve\">\r\n            <g>\r\n                <g>\r\n                    <path d=\"M112.156,97.111c72.3-65.4,180.5-66.4,253.8-6.7l-58.1,2.2c-7.5,0.3-13.3,6.5-13,14c0.3,7.3,6.3,13,13.5,13    c0.2,0,0.3,0,0.5,0l89.2-3.3c7.3-0.3,13-6.2,13-13.5v-1c0-0.2,0-0.3,0-0.5v-0.1l0,0l-3.3-88.2c-0.3-7.5-6.6-13.3-14-13    c-7.5,0.3-13.3,6.5-13,14l2.1,55.3c-36.3-29.7-81-46.9-128.8-49.3c-59.2-3-116.1,17.3-160,57.1c-60.4,54.7-86,137.9-66.8,217.1    c1.5,6.2,7,10.3,13.1,10.3c1.1,0,2.1-0.1,3.2-0.4c7.2-1.8,11.7-9.1,9.9-16.3C36.656,218.211,59.056,145.111,112.156,97.111z\" />\r\n                    <path d=\"M462.456,195.511c-1.8-7.2-9.1-11.7-16.3-9.9c-7.2,1.8-11.7,9.1-9.9,16.3c16.9,69.6-5.6,142.7-58.7,190.7    c-37.3,33.7-84.1,50.3-130.7,50.3c-44.5,0-88.9-15.1-124.7-44.9l58.8-5.3c7.4-0.7,12.9-7.2,12.2-14.7s-7.2-12.9-14.7-12.2l-88.9,8    c-7.4,0.7-12.9,7.2-12.2,14.7l8,88.9c0.6,7,6.5,12.3,13.4,12.3c0.4,0,0.8,0,1.2-0.1c7.4-0.7,12.9-7.2,12.2-14.7l-4.8-54.1    c36.3,29.4,80.8,46.5,128.3,48.9c3.8,0.2,7.6,0.3,11.3,0.3c55.1,0,107.5-20.2,148.7-57.4    C456.056,357.911,481.656,274.811,462.456,195.511z\" />\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}\r\n\r\nexport default LoadingSVG;","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport authentication from \"../../admin-auth\";\r\nimport AdminUserAPI from \"../../api/admin/admin-api\";\r\nimport WForm from \"../../components/wform\";\r\nimport WInput from \"../../components/winput\";\r\nimport SYSTEM_CONSTANTS from \"../../constants\";\r\nimport AdminAuthenticationProvider, { AdminAuthentication } from \"../../contexts/admin-authencation\";\r\nimport LoadingSVG from \"../../logo-svg/loading\";\r\nimport './admin-login.scss';\r\ninterface LoginPageState {\r\n    statusLogin: string | undefined,\r\n    accountInput: string,\r\n    passwordInput: string,\r\n    userInputType: {\r\n        paramName: 'username' | 'email',\r\n        name: string | undefined\r\n    }\r\n    isWattingRequest: boolean\r\n}\r\n\r\nexport default class LoginPage extends React.Component<any, LoginPageState> {\r\n    accountType: 'username' | 'email' | undefined = undefined;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            statusLogin: undefined,\r\n            accountInput: '',\r\n            passwordInput: '',\r\n            userInputType: {} as any,\r\n            isWattingRequest: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        $('#username-input').focus();\r\n    }\r\n    userTypeOnChange(evt: React.FormEvent<HTMLInputElement>) {\r\n        let inputText = evt.currentTarget.value;\r\n        if (inputText.match(SYSTEM_CONSTANTS.REGEX.email)) {\r\n            this.setState({ accountInput: inputText, userInputType: { paramName: 'email', name: 'Email' } });\r\n        } else if (inputText.match(SYSTEM_CONSTANTS.REGEX.code)) {\r\n            this.setState({ accountInput: inputText, userInputType: { paramName: 'username', name: 'Tên đăng nhập' } });\r\n        } else {\r\n            this.setState({ accountInput: inputText, userInputType: {} as any });\r\n        }\r\n    }\r\n    async onSubmit(evt: React.FormEvent<HTMLFormElement>) {\r\n        evt.preventDefault();\r\n        if (this.state.userInputType.paramName) {\r\n            await new Promise(async (resolve) => {\r\n                let statusLoginCompelete: any;\r\n                let isSkipTimeout = false;\r\n                let setCompelete = (statusLogin: string) => {\r\n                    this.setState(() => { return { statusLogin: statusLogin, isWattingRequest: false } });\r\n                }\r\n\r\n                setTimeout(() => {\r\n                    if (statusLoginCompelete) setCompelete(statusLoginCompelete);\r\n                    isSkipTimeout = true;\r\n                }, 1000);\r\n\r\n                this.setState(() => { return { statusLogin: 'wait-login', isWattingRequest: true } });\r\n                try {\r\n                    let resp = await AdminUserAPI.login({\r\n                        [this.state.userInputType.paramName]: this.state.accountInput,\r\n                        password: this.state.passwordInput\r\n                    });\r\n                    authentication.login(resp.data.token, resp.data.user);\r\n                } catch (error) {\r\n                    if (isSkipTimeout)\r\n                        setCompelete('login-failed');\r\n                    else\r\n                        statusLoginCompelete = 'login-failed';\r\n                }\r\n            });\r\n        }\r\n    }\r\n    render() {\r\n        let { accountInput, passwordInput, isWattingRequest } = this.state;\r\n        return <AdminAuthenticationProvider>\r\n            <AdminAuthentication.Consumer>\r\n                {({ isLogin }) => {\r\n                    return !isLogin\r\n                        ? (<div style={{ padding: '20px' }}>\r\n                            <WForm id='login-form' className='d-flex flex-column' onSubmit={this.onSubmit.bind(this)}>\r\n                                <h2 className='text-center'>Đăng Nhập</h2>\r\n                                <WInput\r\n                                    type=\"text\" required\r\n                                    title_input={this.state.userInputType.name || 'Tên đăng nhập hoặc Email'}\r\n                                    is_invalid={this.state.userInputType.name === undefined}\r\n                                    value={accountInput}\r\n                                    onChange={this.userTypeOnChange.bind(this)} disabled={isWattingRequest}\r\n                                    id=\"username-input\"\r\n                                ></WInput>\r\n                                <WInput title_input='Mật khẩu' type=\"password\" required\r\n                                    value={passwordInput}\r\n                                    onChange={(evt) => {\r\n                                        this.setState({ passwordInput: evt.currentTarget.value });\r\n                                    }}\r\n                                    disabled={isWattingRequest}\r\n                                ></WInput>\r\n                                <div className='status-login'>\r\n                                    {(() => {\r\n                                        let output;\r\n                                        switch (this.state.statusLogin) {\r\n                                            case 'wait-login':\r\n                                                output = <div className='d-inline-flex align-items-center'><LoadingSVG className='spin' style={{ marginRight: '8px', height: '14px' }} /><span className='loading-text'>Đang đăng nhập</span></div>;\r\n                                                break;\r\n                                            case 'login-failed':\r\n                                                output = <span className='text-danger'>Đăng nhập thất bại</span>;\r\n                                                break;\r\n                                            case 'input-wrong':\r\n                                                output = <span className='text-danger'>Vui lòng nhập thông tin chính xác</span>\r\n                                                break;\r\n                                        }\r\n                                        return output;\r\n                                    })()}\r\n                                </div>\r\n                                <button className='btn btn-success' disabled={isWattingRequest}>Đăng Nhập</button>\r\n                            </WForm>\r\n                        </div>)\r\n                        : <Redirect to=\"/admin\" />\r\n                }}\r\n            </AdminAuthentication.Consumer>\r\n        </AdminAuthenticationProvider>\r\n    }\r\n}","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport authentication from \"../../admin-auth\";\r\n\r\nexport default class AdminLogout extends React.Component<any, any>{\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            redirect: false\r\n        }\r\n    }\r\n    async componentDidMount() {\r\n        await authentication.logout();\r\n        this.setState({redirect: true});\r\n    }\r\n    render() {\r\n        return this.state.redirect ? <Redirect to=\"/admin/login\"></Redirect> : <div>Logout ...</div>;\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport const AdminOverrideWindow = React.createContext<AdminOverrideWindowState>(undefined as any);\r\ninterface AdminOverrideWindowState {\r\n    windows: JSX.Element[],\r\n    addWindow: (window: JSX.Element) => void,\r\n    removeWindow: (window: JSX.Element) => void,\r\n    clear: () => void\r\n}\r\nexport default class AdminOverrideWindowProvider extends React.Component<{}, AdminOverrideWindowState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            windows: [],\r\n            addWindow: (window) => {\r\n                this.setState({ windows: [...this.state.windows, window] });\r\n                return window;\r\n            },\r\n            removeWindow: (window) => {\r\n                console.log(window, this.state.windows);\r\n                let index = this.state.windows.indexOf(window);\r\n                if (index !== -1) {\r\n                    this.setState({\r\n                        windows: [\r\n                            ...this.state.windows.slice(0, index),\r\n                            ... this.state.windows.slice(index + 1)\r\n                        ]\r\n                    })\r\n                }\r\n            },\r\n            clear: () => { this.setState({ windows: [] }); }\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <AdminOverrideWindow.Provider\r\n                value={this.state}>\r\n                {this.props.children}\r\n            </AdminOverrideWindow.Provider>\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { Dropdown } from \"reactstrap\";\r\n\r\ninterface propsDropdownCustom {\r\n    dropdownToggle: JSX.Element\r\n    dropdownMenu: JSX.Element;\r\n}\r\nexport default class WDropdown extends React.Component<propsDropdownCustom, { isOpen: boolean }>{\r\n    constructor(props: Readonly<propsDropdownCustom>) {\r\n        super(props);\r\n        this.state = { isOpen: false };\r\n    }\r\n    render() {\r\n        return <Dropdown isOpen={this.state.isOpen} toggle={() => { this.setState((state) => { return { isOpen: !this.state.isOpen } }) }}>\r\n            {this.props.dropdownToggle}\r\n            {this.props.dropdownMenu}\r\n        </Dropdown>\r\n    }\r\n}","import React from \"react\";\r\n\r\nexport default function MenuSVG(props: React.SVGProps<SVGSVGElement>) {\r\n    return React.createElement('svg', { ... props, xmlns: 'http://www.w3.org/2000/svg', viewBox: '0 -53 384 384'},\r\n        <g>\r\n            <path d=\"m368 154.667969h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\" />\r\n            <path d=\"m368 32h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\" />\r\n            <path d=\"m368 277.332031h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\" />\r\n        </g>\r\n    );\r\n}","import React from 'react';\r\nimport WDropdown from '../../components/wdropdown';\r\nimport { DropdownToggle, DropdownItem, DropdownMenu, Button } from 'reactstrap';\r\nimport { ScreenContext } from '../../contexts/screen-context';\r\nimport authentication from '../../admin-auth';\r\nimport MenuSVG from '../../logo-svg/menu';\r\nimport MenuTab from './menu-tab';\r\n\r\nexport default class AdminHeader extends React.Component<{ minScreenResizeMenuTab: number }> {\r\n    isSmallScreen = true;\r\n    constructor(props: any) {\r\n        super(props);\r\n    }\r\n    toggleMenu(){\r\n        $('#menu-tab').toggleClass('is-display');\r\n    }\r\n    render() {\r\n        const size = 30;\r\n        let userInfo = JSON.parse(window.localStorage['admin'] || \"{}\");\r\n        return <header className=\"d-flex align-items-center space-sm\">\r\n            <ScreenContext.Consumer>\r\n                {({ screenInnerWidth }) => {\r\n                    if (screenInnerWidth >= this.props.minScreenResizeMenuTab) {\r\n                        $('#menu-tab').removeClass('is-display');\r\n                        this.isSmallScreen = false;\r\n                    } else {\r\n                        this.isSmallScreen = true;\r\n                    }\r\n                    return null;\r\n                }}\r\n            </ScreenContext.Consumer>\r\n            <Button size=\"sm\" className=\"mr-3\" onClick={this.toggleMenu.bind(this)}\r\n                id=\"show-menu\"><MenuSVG className=\"px-1\" height=\"18px\" fill=\"white\" /></Button>\r\n            <div className=\"mr-auto\">Admin Page</div>\r\n            <WDropdown \r\n                dropdownToggle={\r\n                    <DropdownToggle color=\"primary\" size=\"sm\" className=\"d-flex space-nm\" style={{\r\n                        borderRadius: 0,\r\n                        height: 35,\r\n                        padding: '2px 8px'\r\n                    }}>\r\n                        <span className=\"d-none d-sm-block\" style={{\r\n                            fontSize: 15,\r\n                            fontWeight: 600,\r\n                            color: \"white\",\r\n                            lineHeight: `${size}px`\r\n                        }}>{userInfo.fullname}</span>\r\n                        <img style={{\r\n                            width: size,\r\n                            height: size,\r\n                            borderRadius: 999,\r\n                            boxShadow: '0 0 9px #888'\r\n                        }}\r\n                            src={`${process.env.REACT_APP_ADMIN_USER_IMAGE_PATH}${userInfo.id}.jpg`}\r\n                            onError={() => { return `${process.env.REACT_APP_ADMIN_USER_IMAGE_PATH}default.jpg` }}\r\n                        />\r\n                    </DropdownToggle>\r\n                }\r\n                dropdownMenu={\r\n                    <DropdownMenu right>\r\n                        <DropdownItem>Tài khoản của bạn</DropdownItem>\r\n                        <DropdownItem onClick={() => { authentication.logout() }}>Đăng xuất</DropdownItem>\r\n                    </DropdownMenu>\r\n                }\r\n            ></WDropdown>\r\n        </header>;\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AdminHeader from \"./admin-header\";\r\n\r\ninterface MenuItem {\r\n    content: JSX.Element | string,\r\n    hrefLink?: string\r\n}\r\ninterface MenuType {\r\n    items: (MenuType | MenuItem)[]\r\n    content: JSX.Element | string\r\n}\r\ninterface MenuTabProps {\r\n    menu: (MenuType | MenuItem)[],\r\n    getAdminHeader: () => AdminHeader\r\n}\r\ninterface MenuTabState { }\r\nlet count = 0;\r\n\r\nexport default class MenuTab extends React.Component<MenuTabProps, MenuTabState> {\r\n    constructor(props: Readonly<MenuTabProps>) {\r\n        super(props);\r\n    }\r\n    renderItem(itemMenu: MenuType | MenuItem): JSX.Element {\r\n        if ((itemMenu as Object).hasOwnProperty('items')) {\r\n            return <li key={++count}>\r\n                <MenuDropDown title={(itemMenu as MenuType).content}>\r\n                    {(itemMenu as MenuType).items.map(item => { return this.renderItem(item) })}\r\n                </MenuDropDown>\r\n            </li >;\r\n        } else {\r\n            return <li key={++count}>\r\n                <Link to={(itemMenu as MenuItem).hrefLink ?? '#'} onClick={() => {\r\n                    if (this.props.getAdminHeader().isSmallScreen) {\r\n                        this.props.getAdminHeader().toggleMenu();\r\n                    }\r\n                    console.log(this.props.getAdminHeader().isSmallScreen);\r\n                }}>\r\n                    <div className=\"item-menu\">\r\n                        {(itemMenu as MenuItem).content}\r\n                    </div>\r\n                </Link>\r\n            </li>\r\n        }\r\n\r\n    }\r\n    render() {\r\n        count = 0;\r\n        return <div id=\"menu-tab\">\r\n            <ul>{this.props.menu.map(item => { return this.renderItem(item); })}</ul>\r\n        </div>\r\n    }\r\n}\r\n\r\nclass MenuDropDown extends React.Component<{ title: JSX.Element | string }, { isCollapsed: boolean }> {\r\n\r\n    constructor(props: Readonly<{ title: string | JSX.Element }>) {\r\n        super(props);\r\n        this.state = {\r\n            isCollapsed: false\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <ul>\r\n            <div className=\"item-menu\" onClick={() => { this.setState(state => { return { isCollapsed: !this.state.isCollapsed } }) }}>{this.props.title}</div>\r\n            {this.state.isCollapsed && this.props.children}\r\n        </ul >\r\n    }\r\n}","import React from 'react';\r\nexport default function CancelSVG(props: any) {\r\n    return <svg style={{ ...props.style, fill: props.color || undefined }} className={props.className} id={props.id} onClick={props.onClick}\r\n        xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 413.348 413.348\">\r\n        <g style={{transform: 'translate(10%, 10%) scale(.8)'}}>\r\n            <path d=\"m413.348 24.354-24.354-24.354-182.32 182.32-182.32-182.32-24.354 24.354 182.32 182.32-182.32 182.32 24.354 24.354 182.32-182.32 182.32 182.32 24.354-24.354-182.32-182.32z\" />\r\n        </g>\r\n    </svg>\r\n}","import React from \"react\";\r\nimport authentication from \"../../admin-auth\";\r\nimport Utils from \"../../common/Utils\";\r\nimport SYSTEM_CONSTANTS from \"../../constants\";\r\nimport CancelSVG from \"../../logo-svg/cancel\";\r\n\r\ninterface AdminMessageRequestProps extends React.HTMLAttributes<HTMLElement> {\r\n    message?: string,\r\n    is_hide?: boolean,\r\n    onAfterSendRequest?: () => any,\r\n    onBeforeSendRequest?: () => any,\r\n}\r\ninterface AdminMessageRequestState {\r\n    isHide?: boolean\r\n    message?: string,\r\n    color?: string,\r\n    isWaitRequest?: boolean\r\n}\r\nexport default class AdminMessageRequest extends React.Component<AdminMessageRequestProps, AdminMessageRequestState>{\r\n    constructor(props: AdminMessageRequestProps) {\r\n        super(props);\r\n        this.state = { isHide: this.props.is_hide ?? true, message: this.props.message ?? '', color: this.props.color ?? '', isWaitRequest: false };\r\n    }\r\n    async sendRequest<K>(requestMethod: (() => Promise<K> | Promise<K>),\r\n        config: {\r\n            hideWhenDone?: boolean,\r\n            getFailed?: boolean,\r\n            waitingMessage?: string,\r\n            hideWaiting?: boolean\r\n        } = {}): Promise<K | undefined> {\r\n        this.props.onBeforeSendRequest && this.props.onBeforeSendRequest();\r\n        !config.hideWaiting && this.setState(() => { return { isWaitRequest: true, isHide: false, message: config?.waitingMessage ?? 'Đang xử lí', color: 'success' } });\r\n        Utils.lostFocus();\r\n        let state: AdminMessageRequestState = {};\r\n        let request;\r\n        try {\r\n            if (requestMethod instanceof Function) {\r\n                request = await requestMethod();\r\n            } else {\r\n                request = await requestMethod;\r\n            }\r\n            state = { message: (request as any).message.content, color: 'success', isHide: Boolean(config?.hideWhenDone), isWaitRequest: false };\r\n        } catch (err) {\r\n            state = { color: 'danger', isWaitRequest: false, isHide: false };\r\n            if (config?.getFailed && err.response !== null) request = err;\r\n            try {\r\n                switch (err.message.code) {\r\n                    case undefined:\r\n                        request = undefined;\r\n                        if (err.response === undefined) {\r\n                            state.message = 'Kêt nối hỏng';\r\n                        } else {\r\n                            state.message = \"Lỗi server: \" + err.response.data.message;\r\n                        };\r\n                        break;\r\n                    case SYSTEM_CONSTANTS.ERROR_REQUEST.TOKEN_INVALID:\r\n                        setTimeout(() => { authentication.logout() }); break;\r\n                    case SYSTEM_CONSTANTS.ERROR_REQUEST.PERMISSION_NOT_ALLOW:\r\n                    default:\r\n                        let data = err.data instanceof Object\r\n                            ? '- ' + JSON.stringify(err.data) :\r\n                            err.data ? `- ${err.data}` : '';\r\n                        state.message = `${err.message.content} ${data}`;\r\n                };\r\n            } catch (error) {\r\n                state.message = 'Lỗi nhận request: ' + error;\r\n            }\r\n        }\r\n        await this.setState(() => { return state });\r\n        this.props.onAfterSendRequest && this.props.onAfterSendRequest();\r\n        return request;\r\n    }\r\n    setMessage(message: { color?: string, message?: string, isHide?: boolean }): any {\r\n        this.setState(message as any);\r\n    }\r\n    shouldComponentUpdate(nextProp: any, nextState: any) {\r\n        if (nextProp === this.props) {\r\n            return true;\r\n        } else {\r\n            let state: any = {};\r\n            if (nextProp.hasOwnProperty('is_hide')) state.isHide = nextProp.is_hide;\r\n            if (nextProp.hasOwnProperty('message')) state.message = nextProp.message;\r\n            if (nextProp.hasOwnProperty('color')) state.color = nextProp.color;\r\n            this.setState(state);\r\n            return false;\r\n        }\r\n    }\r\n    closeMessage() {\r\n        this.setState({ isHide: true });\r\n    }\r\n    render() {\r\n        return this.state.isHide ? null : React.createElement('div',\r\n            {\r\n                ... this.props, is_hide: undefined,\r\n                className: this.props.className ?? ''\r\n                    + `alert d-flex ${(this.state.color ? `alert-${this.state.color} ` : '')}`, message: undefined\r\n            }, [\r\n            <span key=\"0\" className={\"mr-auto\" + (this.state.isWaitRequest ? ' loading-text' : '')}>{this.state.message}</span>,\r\n            <CancelSVG key=\"1\" className=\"icon\" color=\"red\" style={{ minWidth: 16 }} onClick={() => { this.setState({ isHide: true }) }} />\r\n        ]\r\n        )\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport AdminUserAPI, { AdminDTO } from \"../../../api/admin/admin-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput from \"../../../components/winput\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface AddAdminUserState {\r\n    input: AdminDTO,\r\n    passwordConfirmInput: string\r\n    isValidInput: {\r\n        passwordConfirm: boolean,\r\n        email: boolean,\r\n        adminCode: boolean,\r\n        phone: boolean,\r\n        identityDocument: boolean\r\n    },\r\n    isDisable: boolean,\r\n}\r\n\r\nexport default class AddAdminUser extends React.Component<any, AddAdminUserState> {\r\n    messageRequest: React.RefObject<AdminMessageRequest>;\r\n    avatar: React.RefObject<HTMLImageElement>;\r\n    avatarInput: React.RefObject<HTMLInputElement>;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            input: {\r\n                adminCode: 'nvc2',\r\n                email: 'cuong2@gmail.com',\r\n                password: '123',\r\n                fullname: 'Nguyễn Văn Cường 2',\r\n                phone: '12345',\r\n                identityDocument: '0014523',\r\n                dateOfBirth: '2000-02-02',\r\n                address: '123454',\r\n                gender: '0'\r\n            },\r\n            isValidInput: {\r\n                passwordConfirm: true,\r\n                email: true,\r\n                adminCode: true,\r\n                phone: true,\r\n                identityDocument: true\r\n            },\r\n            passwordConfirmInput: '123',\r\n            isDisable: false\r\n        }\r\n        this.messageRequest = React.createRef();\r\n        this.avatar = React.createRef();\r\n        this.avatarInput = React.createRef();\r\n        console.log('add constructor');\r\n    }\r\n    inputChange(fieldChange: string, evt: React.FormEvent<HTMLInputElement>, otherAction?: (evt: React.FormEvent<HTMLInputElement>) => any) {\r\n        (this.state.input as any)[fieldChange] = evt.currentTarget.value;\r\n        otherAction instanceof Function && otherAction(evt);\r\n        this.setState({});\r\n    }\r\n    radioInputGender(evt: React.ChangeEvent<HTMLInputElement>) {\r\n        this.state.input.gender = evt.currentTarget.value;\r\n    }\r\n    setDisable(isDisable: boolean) {\r\n        this.setState({ isDisable: isDisable });\r\n    }\r\n    async onSubmitForm(evt: React.FormEvent<HTMLFormElement>) {\r\n        evt.preventDefault();\r\n        this.setDisable(true);\r\n        let { current } = this.messageRequest;\r\n        let addUserReq = await this.messageRequest.current?.sendRequest(() => { return AdminUserAPI.addUser(this.state.input) });\r\n        let file: any;\r\n        if (addUserReq !== undefined\r\n            && this.avatarInput.current?.files && (file = this.avatarInput.current?.files[0])) {\r\n            let state: any = { ...current?.state };\r\n\r\n            let updateImageReq = await current?.sendRequest(() => {\r\n                return AdminUserAPI.uploadAvatar(\r\n                    {\r\n                        image: file,\r\n                        id: addUserReq?.data\r\n                    })\r\n            }, {\r\n                waitingMessage: 'Đang xử lí ảnh',\r\n                hideWhenDone: true\r\n            });\r\n            if (updateImageReq) {\r\n                current?.setState(state);\r\n            } else {\r\n                state.color = 'warning';\r\n                state.message += ` - ${current?.state.message}`;\r\n                current?.setState(state);\r\n            }\r\n        };\r\n        this.setDisable(false);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"form-container\">\r\n                <AdminMessageRequest ref={this.messageRequest} />\r\n                <WForm id={`form-main`} className={this.state.isDisable ? 'disabled' : ''} onSubmit={this.onSubmitForm.bind(this)}>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <h2>Thêm tài khoản</h2>\r\n                        <img className=\"avatar\" title=\"Ảnh đại diện\" src={process.env.REACT_APP_ADMIN_USER_IMAGE_PATH + 'default.jpg'} alt=\"Avatar\" ref={this.avatar}\r\n                            onClick={() => { this.avatarInput.current?.click(); }}\r\n                        ></img>\r\n                    </div>\r\n                    <div className=\"d-flex space-nm\">\r\n                        <WInput title_input=\"Tên tài khoản\" value={this.state.input.adminCode} is_invalid={!this.state.isValidInput.adminCode}\r\n                            onChange={(evt) => {\r\n                                this.inputChange('adminCode', evt,\r\n                                    (evt) => { this.state.isValidInput.adminCode = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.code) != null })\r\n                            }} required />\r\n                        <WInput title_input=\"Email\" value={this.state.input.email}\r\n                            is_invalid={!this.state.isValidInput.email}\r\n                            onChange={(evt) => {\r\n                                this.inputChange('email', evt,\r\n                                    (evt) => { this.state.isValidInput.email = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.email) != null })\r\n                            }} required />\r\n                    </div>\r\n                    <div className=\"d-flex space-nm\">\r\n                        <WInput title_input=\"Mật khẩu\" value={this.state.input.password} type=\"password\"\r\n                            onChange={(evt) => {\r\n                                this.inputChange('password', evt,\r\n                                    (evt) => { this.state.isValidInput.passwordConfirm = this.state.passwordConfirmInput === evt.currentTarget.value }\r\n                                )\r\n                            }} required />\r\n                        <WInput title_input=\"Xác nhận mật khẩu\" value={this.state.passwordConfirmInput} type=\"password\"\r\n                            is_invalid={!this.state.isValidInput.passwordConfirm}\r\n                            onChange={(evt) => {\r\n                                let pwConfirm = evt.currentTarget.value;\r\n                                this.state.isValidInput.passwordConfirm = this.state.input.password === pwConfirm;\r\n                                this.setState({ passwordConfirmInput: pwConfirm });\r\n                            }} required />\r\n                    </div>\r\n                    <div className=\"d-flex space-nm\">\r\n                        <WInput title_input=\"Tên đầy đủ\" value={this.state.input.fullname}\r\n                            onChange={(evt) => { this.inputChange('fullname', evt) }} required />\r\n                        <WInput title_input=\"Ngày sinh\" value={this.state.input.dateOfBirth} no_title_animation={true} type=\"date\"\r\n                            onChange={(evt) => { this.inputChange('dateOfBirth', evt) }} required />\r\n                    </div>\r\n                    <div className=\"d-flex space-nm\">\r\n                        <WInput title_input=\"Số điện thoại\" value={this.state.input.phone} is_invalid={!this.state.isValidInput.phone}\r\n                            onChange={(evt) => {\r\n                                this.inputChange('phone', evt,\r\n                                    (evt) => { this.state.isValidInput.phone = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.numbers) != null }\r\n                                )\r\n                            }} required />\r\n                        <WInput title_input=\"Số chứng minh thư\" value={this.state.input.identityDocument} is_invalid={!this.state.isValidInput.identityDocument}\r\n                            onChange={(evt) => {\r\n                                this.inputChange('identityDocument', evt,\r\n                                    (evt) => { this.state.isValidInput.identityDocument = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.numbers) != null })\r\n                            }} required />\r\n                    </div>\r\n                    <WInput title_input=\"Địa chỉ\" value={this.state.input.address}\r\n                        onChange={(evt) => { this.inputChange('address', evt) }} required />\r\n                    <input type=\"file\" style={{ display: 'none' }} ref={this.avatarInput} accept=\"image/*\" onChange={\r\n                        (evt) => {\r\n                            let { files } = evt.currentTarget;\r\n                            if (files && files[0]) {\r\n                                let image = this.avatar.current;\r\n                                let reader = new FileReader();\r\n                                reader.onload = ({ target }) => {\r\n                                    (image as any).src = target?.result;\r\n                                };\r\n                                reader.readAsDataURL(files[0]);\r\n                            }\r\n                        }\r\n                    } />\r\n                    <div className=\"winput-group-other\">\r\n                        <label>Giới tính</label>\r\n                        <div className=\"d-flex space-nm\">\r\n                            <label><input type=\"radio\" name=\"gender2\" value=\"0\" onChange={this.radioInputGender.bind(this)} defaultChecked />Nam</label>\r\n                            <label><input type=\"radio\" name=\"gender2\" value=\"1\" onChange={this.radioInputGender.bind(this)} />Nữ</label>\r\n                            <label><input type=\"radio\" name=\"gender2\" value=\"2\" onChange={this.radioInputGender.bind(this)} />Khác</label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div style={{ marginTop: 16 }} className=\"d-flex space-sm\">\r\n                        <Button color=\"primary\" size=\"sm\">Thêm</Button>\r\n                        <Link to=\"/admin/admin-users\"><Button color=\"danger\" type=\"button\" size=\"sm\">Quay về</Button></Link>\r\n                    </div>\r\n                </WForm>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\ninterface ImageErrorProps extends React.HTMLProps<HTMLImageElement>{\r\n    'err-src': string\r\n}\r\nexport default class ImageError extends React.Component<ImageErrorProps, any>{\r\n    constructor(props: ImageErrorProps) {\r\n        super(props);\r\n        this.state = {\r\n            src: this.props.src,\r\n        }\r\n    }\r\n    onError() {\r\n        if (this.state.src !== this.props['err-src']) {\r\n            this.setState({\r\n                src: this.props['err-src']\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        let props = {\r\n            ... this.props,\r\n            onError: () => {\r\n                this.onError();\r\n            },\r\n            src: this.state.src\r\n        };\r\n        return React.createElement('img', props);\r\n    }\r\n}","import React from \"react\";\r\nimport './wcheckbox.scss';\r\ninterface WCheckBoxProps extends React.HTMLProps<HTMLInputElement> {\r\n    'classname-input'?: any;\r\n}\r\n\r\nexport default class WCheckBox extends React.Component<WCheckBoxProps, { isChecked: boolean }>{\r\n    constructor(props: Readonly<WCheckBoxProps>) {\r\n        super(props);\r\n        this.state = {\r\n            isChecked: this.props.checked as any\r\n        }\r\n    }\r\n    shouldComponentUpdate(nextProps: any) {\r\n        if (nextProps === this.props) {\r\n            return true;\r\n        } else {\r\n            if (nextProps.hasOwnProperty('checked')) this.setState({ isChecked: nextProps.checked });\r\n            return false;\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <label className={'wcheckbox ' +\r\n                (this.state.isChecked ? 'checked ' : '') +\r\n                (this.props.className || '')}\r\n                style={this.props.style}\r\n            >\r\n                {React.createElement('input', {\r\n                    ... this.props, type: \"checkbox\", style: null, className: this.props['classname-input'], checked: this.state.isChecked,\r\n                    onChange: (evt: React.MouseEvent<HTMLInputElement>) => {\r\n                        (this.props.onChange instanceof Function) && this.props.onChange(evt);\r\n                        this.setState({ isChecked: evt.currentTarget.checked });\r\n                    }\r\n                })}\r\n                {\r\n                    this.state.isChecked && (\r\n                        <svg\r\n                            className=\"done-svg\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n                            viewBox=\"0 0 512 512\" >\r\n                            <linearGradient id=\"a\" gradientUnits=\"userSpaceOnUse\" x1=\"256\" x2=\"256\" y1=\"0\" y2=\"512\">\r\n                                <stop offset=\"0\" stopColor=\"#2af598\" /><stop offset=\"1\" stopColor=\"#009efd\" />\r\n                            </linearGradient>\r\n                            <path d=\"m258.257812 310.347656 223.957032-245.820312 29.566406 26.9375-251.472656 276.019531-137.089844-130.320313 27.5625-28.992187zm237.992188-143.09375-31.191406 34.34375c4.527344 17.386719 6.941406 35.617188 6.941406 54.402344 0 119.101562-96.898438 216-216 216s-216-96.898438-216-216 96.898438-216 216-216c55.175781 0 105.574219 20.804688 143.796875 54.96875l26.964844-29.691406c-47.007813-42.191406-107.109375-65.277344-170.761719-65.277344-68.378906 0-132.667969 26.628906-181.019531 74.980469-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531s26.628906 132.667969 74.980469 181.019531c48.351562 48.351563 112.640625 74.980469 181.019531 74.980469s132.667969-26.628906 181.019531-74.980469c48.351563-48.351562 74.980469-112.640625 74.980469-181.019531 0-30.773438-5.410156-60.710938-15.75-88.746094zm0 0\" fill=\"url(#a)\" />\r\n                        </svg>\r\n                    )\r\n                }\r\n            </label >\r\n        )\r\n    }\r\n}","\r\nimport React from 'react';\r\n\r\nexport default function FirstSVG(props: any) {\r\n    return (\r\n        <svg className={props.className} style={{ stroke: props.color, fill: props.color }}\r\n            xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 320.012 320.012\" xmlSpace=\"preserve\">\r\n            <g transform=\"matrix(1 0 0 1 0 0)\">\r\n                <g>\r\n                    <g>\r\n                        <path d=\"M296.07,2.188c-4.864-2.88-10.976-2.912-15.904-0.128L48.006,132.652V16.012c0-8.832-7.168-16-16-16    c-8.832,0-16,7.168-16,16v288c0,8.832,7.168,16,16,16c8.832,0,16-7.168,16-16v-116.64l232.16,130.592    c2.432,1.376,5.12,2.048,7.84,2.048c2.784,0,5.6-0.736,8.064-2.176c4.896-2.88,7.936-8.128,7.936-13.824v-288    C304.006,10.316,300.966,5.068,296.07,2.188z M272.006,276.652l-207.36-116.64l207.36-116.64V276.652z\" data-original=\"#000000\" />\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default function LastSVG(props: any) {\r\n    return (\r\n        <svg className={props.className} style={{ fill: props.color, stroke: props.color }}\r\n            xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 320.012 320.012\" xmlSpace=\"preserve\" >\r\n            <g transform=\"matrix(-1 3.67394e-16 -3.67394e-16 -1 320.012 320.012)\">\r\n                <g>\r\n                    <g>\r\n                        <path d=\"M296.07,2.188c-4.864-2.88-10.976-2.912-15.904-0.128L48.006,132.652V16.012c0-8.832-7.168-16-16-16    c-8.832,0-16,7.168-16,16v288c0,8.832,7.168,16,16,16c8.832,0,16-7.168,16-16v-116.64l232.16,130.592    c2.432,1.376,5.12,2.048,7.84,2.048c2.784,0,5.6-0.736,8.064-2.176c4.896-2.88,7.936-8.128,7.936-13.824v-288    C304.006,10.316,300.966,5.068,296.07,2.188z M272.006,276.652l-207.36-116.64l207.36-116.64V276.652z\" data-original=\"#000000\" />\r\n                    </g>\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport default function NextSVG(props: any) {\r\n    return (\r\n        <svg className={props.className} style={{ fill: props.color }}\r\n            xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 240.823 240.823\" xmlSpace=\"preserve\">\r\n            <g xmlns=\"http://www.w3.org/2000/svg\">\r\n                <g>\r\n                    <path d=\"M183.189,111.816L74.892,3.555c-4.752-4.74-12.451-4.74-17.215,0c-4.752,4.74-4.752,12.439,0,17.179   l99.707,99.671l-99.695,99.671c-4.752,4.74-4.752,12.439,0,17.191c4.752,4.74,12.463,4.74,17.215,0l108.297-108.261   C187.881,124.315,187.881,116.495,183.189,111.816z\" data-original=\"#000000\" />\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n} ","import React from \"react\";\r\n\r\nexport default function PreviousSVG(props: any) {\r\n    return (\r\n        <svg className={props.className} style={{ fill: props.color }}\r\n            xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 240.823 240.823\" xmlSpace=\"preserve\">\r\n            <g transform=\"matrix(-1 0 0 -1 240.823 240.823)\">\r\n                <g>\r\n                    <path d=\"M183.189,111.816L74.892,3.555c-4.752-4.74-12.451-4.74-17.215,0c-4.752,4.74-4.752,12.439,0,17.179   l99.707,99.671l-99.695,99.671c-4.752,4.74-4.752,12.439,0,17.191c4.752,4.74,12.463,4.74,17.215,0l108.297-108.261   C187.881,124.315,187.881,116.495,183.189,111.816z\" data-original=\"#000000\" />\r\n                </g>\r\n            </g>\r\n        </svg>\r\n    )\r\n}","import React from 'react';\r\nexport default function ReloadSVG(props: any) {\r\n    return (<svg xmlns=\"http://www.w3.org/2000/svg\" className={props.className} style={{ fill: props.color }} xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xmlSpace=\"preserve\">\r\n        <g>\r\n            <g>\r\n                <path d=\"M493.815,70.629c-11.001-1.003-20.73,7.102-21.733,18.102l-2.65,29.069C424.473,47.194,346.429,0,256,0    C158.719,0,72.988,55.522,30.43,138.854c-5.024,9.837-1.122,21.884,8.715,26.908c9.839,5.024,21.884,1.123,26.908-8.715    C102.07,86.523,174.397,40,256,40c74.377,0,141.499,38.731,179.953,99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899,4.651    c-6.419,8.989-4.337,21.479,4.651,27.899l86.475,61.761c12.674,9.035,30.155,0.764,31.541-14.459l9.711-106.53    C512.919,81.362,504.815,71.632,493.815,70.629z\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M472.855,346.238c-9.838-5.023-21.884-1.122-26.908,8.715C409.93,425.477,337.603,472,256,472    c-74.377,0-141.499-38.731-179.953-99.408l28.517,20.367c8.989,6.419,21.479,4.337,27.899-4.651    c6.419-8.989,4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-0.921-31.541,14.459l-9.711,106.53    c-1.003,11,7.102,20.73,18.101,21.733c11.014,1.001,20.731-7.112,21.733-18.102l2.65-29.069C87.527,464.806,165.571,512,256,512    c97.281,0,183.012-55.522,225.57-138.854C486.594,363.309,482.692,351.262,472.855,346.238z\" />\r\n            </g>\r\n        </g>\r\n    </svg>)\r\n}","import React from \"react\";\r\nimport { Button, ButtonGroup, Col, Container, Input, InputGroup, InputGroupAddon, Row, Table } from \"reactstrap\";\r\nimport '../css-animation.scss';\r\nimport FirstSVG from \"../logo-svg/first\";\r\nimport LastSVG from \"../logo-svg/last\";\r\nimport NextSVG from \"../logo-svg/next\";\r\nimport PreviousSVG from \"../logo-svg/previous\";\r\nimport ReloadSVG from \"../logo-svg/reload\";\r\nimport './wtable.scss';\r\nimport Utils from \"../common/Utils\";\r\n\r\ninterface PageInfo {\r\n    data: any[],\r\n    page: number,\r\n    limit: number,\r\n    offset: number,\r\n    totalRecord: number,\r\n    totalPage: number\r\n}\r\n\r\ninterface TableProps {\r\n    headers: any[],\r\n    page?: number\r\n    limit?: number\r\n    getPage: (page: number, limit: number) => (PageInfo | undefined | Promise<PageInfo | undefined>),\r\n    fillData: (data: any, index?: number) => (JSX.Element)\r\n    onPageChangeEvent?: (event: { pageChange: number, limitChange: number }) => any\r\n}\r\n\r\ninterface TableState {\r\n    pageData: PageInfo,\r\n    limitValue?: number,\r\n    pageValue?: number,\r\n    isWaiting: boolean\r\n}\r\n\r\nexport default class WTable extends React.Component<TableProps, TableState> {\r\n    tableBody: React.RefObject<any>;\r\n    constructor(props: TableProps) {\r\n        super(props);\r\n        let page = this.props.page || 1;\r\n        let limit = this.props.limit || 5;\r\n        this.state = { pageData: { data: [] } as any, pageValue: page, limitValue: limit, isWaiting: false };\r\n        this.reloadPage = this.reloadPage.bind(this);\r\n        this.tableBody = React.createRef();\r\n        console.log('this is table constructor')\r\n    }\r\n    async getPage(page: number, limit: number) {\r\n        this.setState(() => { return { isWaiting: true } });\r\n        if (limit <= 0) limit = 1;\r\n        let pageGet: PageInfo = this.props.getPage(page, limit) as PageInfo;\r\n        if (pageGet instanceof Promise) {\r\n            pageGet = await pageGet;\r\n        }\r\n        if (pageGet !== undefined) {\r\n            this.setState(() => {\r\n                return {\r\n                    pageData: pageGet,\r\n                    limitValue: pageGet.limit,\r\n                    pageValue: pageGet.page,\r\n                    isWaiting: false\r\n                }\r\n            })\r\n            this.props.onPageChangeEvent instanceof Function && this.props.onPageChangeEvent({ pageChange: pageGet.page, limitChange: pageGet.limit });\r\n            return true;\r\n        } else {\r\n            this.setState(() => {\r\n                return {\r\n                    pageData: { data: [] } as any,\r\n                    limitValue: limit,\r\n                    pageValue: page,\r\n                    isWaiting: false\r\n                }\r\n            });\r\n            return false;\r\n        }\r\n    }\r\n    async reloadPage() {\r\n        await this.getPage(this.state.pageValue as number, this.state.limitValue as number);\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={\"table-view\" + (this.state.isWaiting ? ' disabled' : '')}>\r\n                <Table hover={true}>\r\n                    <thead>\r\n                        <tr>{this.props.headers.map((e, index) => { return <th key={index}>{e}</th> })}</tr>\r\n                    </thead>\r\n                    <tbody ref={this.tableBody}>\r\n                        {\r\n                            this.state.pageData.data.map((inRow: any[], index: number) => {\r\n                                return this.props.fillData(inRow, index);\r\n                            })\r\n                        }\r\n                    </tbody>\r\n                </Table >\r\n                <Container fluid={true} className=\"table-control p-0\">\r\n                    {/* <div className=\"table-control d-flex justify-content-end align-items-center\"> */}\r\n                    <Row>\r\n                        <Col md={'auto'} sm={12} className=\"d-flex mb-2 mx-sm-auto ml-md-0 mr-md-auto\">\r\n                            <div className=\"d-flex m-sm-auto m-md-0\">\r\n                                <InputGroup size=\"sm\">\r\n                                    <InputGroupAddon addonType=\"prepend\" >Giới hạn</InputGroupAddon>\r\n                                    <Input type=\"number\" style={{ maxWidth: 80, textAlign: \"center\" }} value={this.state.limitValue}\r\n                                        onChange={(e) => { this.setState({ limitValue: (e.target.value) as any }) }}\r\n                                    />\r\n                                </InputGroup>\r\n                                <Button className=\"ml-4\" color=\"primary\" size=\"sm\" onClick={() => {\r\n                                    this.getPage(this.state.pageValue || 1, this.state.limitValue || 1);\r\n                                }} title=\"Reload\"><ReloadSVG className={'icon' + (this.state.isWaiting ? ' spin' : '')} color=\"white\" /></Button>\r\n                            </div>\r\n                        </Col>\r\n                        <Col md={'auto'} sm={12}>\r\n                            <Container fluid={true} className=\"p-0\">\r\n                                <Row>\r\n                                    <Col md={'auto'} sm={12} className=\"d-flex justify-content-center mb-2\">\r\n                                        <InputGroup size=\"sm\" className=\"m-auto\">\r\n                                            <InputGroupAddon addonType=\"prepend\">Trang</InputGroupAddon>\r\n                                            <Input className=\"text-center\" type=\"number\" min=\"1\" style={{ maxWidth: 80 }} value={this.state.pageValue}\r\n                                                onChange={(e) => { this.setState({ pageValue: (e.target.value) as any }) }} />\r\n                                            <InputGroupAddon addonType=\"append\">\r\n                                                <div className=\"input-group-text\">{this.state.pageData.totalPage}</div>\r\n                                                <Button color=\"primary\" onClick={this.reloadPage} >GO</Button>\r\n                                            </InputGroupAddon>\r\n                                        </InputGroup>\r\n                                    </Col>\r\n                                    <Col md={'auto'} sm={12} className=\"d-flex justify-content-center mb-2\">\r\n                                        <span className=\"offset-info\">{this.state.pageData.offset} - {\r\n                                            this.state.pageData.page === this.state.pageData.totalPage ?\r\n                                                this.state.pageData.totalRecord : (this.state.pageData.limit + this.state.pageData.offset)\r\n                                        } trong {this.state.pageData.totalRecord}</span>\r\n                                    </Col>\r\n                                    <Col md={'auto'} sm={12} className=\"d-flex justify-content-center mb-2 align-items-center\">\r\n                                        <ButtonGroup>\r\n                                            <Button color=\"primary\" title=\"Trang Đầu\" size=\"sm\"\r\n                                                onClick={() => {\r\n                                                    this.setState({ pageValue: 1 });\r\n                                                    setTimeout(() => { this.reloadPage() });\r\n                                                }}\r\n                                            ><FirstSVG className=\"icon\" color=\"white\" /></Button>\r\n                                            <Button color=\"primary\" title=\"Trang Trước\" size=\"sm\"\r\n                                                onClick={() => {\r\n                                                    this.setState({ pageValue: (this.state.pageValue as any - 1) || 1 });\r\n                                                    setTimeout(() => { this.reloadPage() });\r\n                                                }}\r\n                                            ><PreviousSVG className=\"icon\" color=\"white\" /></Button>\r\n                                            <Button color=\"primary\" title=\"Trang Sau\" size=\"sm\"\r\n                                                onClick={() => {\r\n                                                    this.setState({ pageValue: (this.state.pageValue as any + 1) });\r\n                                                    setTimeout(() => { this.reloadPage() });\r\n                                                }}\r\n                                            ><NextSVG className=\"icon\" color=\"white\" /></Button>\r\n                                            <Button color=\"primary\" title=\"Trang Cuối\" size=\"sm\"\r\n                                                onClick={() => {\r\n                                                    this.setState({ pageValue: 0 });\r\n                                                    setTimeout(() => { this.reloadPage() });\r\n                                                }}\r\n                                            ><LastSVG className=\"icon\" color=\"white\" /></Button>\r\n                                        </ButtonGroup>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Container>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nexport default function AddSVG(props: any) {\r\n    return <svg style={{ ...props.style, fill: props.color || undefined }} \r\n    className={props.className}\r\n        id={props.id} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n        <path d=\"m437.019531 74.980469c-48.351562-48.351563-112.640625-74.980469-181.019531-74.980469s-132.667969 26.628906-181.019531 74.980469c-48.351563 48.351562-74.980469 112.640625-74.980469 181.019531s26.628906 132.667969 74.980469 181.019531c48.351562 48.351563 112.640625 74.980469 181.019531 74.980469s132.667969-26.628906 181.019531-74.980469c48.351563-48.351562 74.980469-112.640625 74.980469-181.019531s-26.628906-132.667969-74.980469-181.019531zm-181.019531 397.019531c-119.101562 0-216-96.898438-216-216s96.898438-216 216-216 216 96.898438 216 216-96.898438 216-216 216zm20-236.019531h90v40h-90v90h-40v-90h-90v-40h90v-90h40zm0 0\" />\r\n    </svg>\r\n}","import React from \"react\";\r\n\r\nexport default function EditSVG(props: any) {\r\n    return <svg style={{ ...props.style, fill: props.color || undefined }} className={props.className} id={props.id}\r\n        xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n        <g>\r\n            <g>\r\n                <polygon points=\"51.2,353.28 0,512 158.72,460.8   \" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n\r\n                <rect x=\"89.73\" y=\"169.097\" transform=\"matrix(0.7071 -0.7071 0.7071 0.7071 -95.8575 260.3719)\" width=\"353.277\" height=\"153.599\" />\r\n            </g>\r\n        </g>\r\n        <g>\r\n            <g>\r\n                <path d=\"M504.32,79.36L432.64,7.68c-10.24-10.24-25.6-10.24-35.84,0l-23.04,23.04l107.52,107.52l23.04-23.04    C514.56,104.96,514.56,89.6,504.32,79.36z\" />\r\n            </g>\r\n        </g>\r\n    </svg>\r\n}","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport AdminUserAPI, { AdminGroupAPIResult, AdminUserResult } from \"../../../api/admin/admin-api\";\r\nimport { GroupPermissionAPIResult } from \"../../../api/admin/group-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport ReloadSVG from \"../../../logo-svg/reload\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface UpdateGroupsProps {\r\n    adminInfo: AdminUserResult,\r\n    adminMessageRequest: AdminMessageRequest\r\n}\r\ninterface UpdateGroupsState {\r\n    justShowSelected: boolean,\r\n    isWaiting: boolean,\r\n    groups: AdminGroupAPIResult[],\r\n    filter: any,\r\n}\r\nexport default class UpdateGroups extends React.Component<UpdateGroupsProps, UpdateGroupsState>{\r\n    groupsSelected: Set<number> = new Set([]);\r\n    refComponent = {\r\n        typeSearch: React.createRef<HTMLSelectElement>(),\r\n        searchValue: React.createRef<HTMLInputElement>(),\r\n    }\r\n    searchValue: string = '';\r\n    constructor(props: UpdateGroupsProps) {\r\n        super(props);\r\n        this.state = {\r\n            justShowSelected: false,\r\n            isWaiting: false,\r\n            groups: [],\r\n            filter: undefined\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getAllGroup();\r\n    }\r\n    async getAllGroup() {\r\n        await this.setState({isWaiting: true});\r\n        let result = await this.props.adminMessageRequest.sendRequest(() => {\r\n            return AdminUserAPI.getAllGroups(this.props.adminInfo.adminCode);\r\n        }, { hideWhenDone: true });\r\n        this.groupsSelected.clear();\r\n        if (result !== undefined) {\r\n            this.setState({ groups: result.data, isWaiting: false });\r\n        }else{\r\n            this.setState({isWaiting: false});\r\n        }\r\n    }\r\n    findGroup() {\r\n        this.searchValue = (this.refComponent.searchValue.current as any).input.current.value.trim();\r\n        let typeSearch = this.refComponent.typeSearch.current?.value;\r\n        if (this.searchValue) {\r\n            this.setState({\r\n                filter: Utils.filterString(this.searchValue, (group) => { return group[typeSearch as string] })\r\n            })\r\n        } else {\r\n            this.setState({ filter: undefined });\r\n        }\r\n    }\r\n    async updateGroups() {\r\n        \r\n        this.props.adminMessageRequest.sendRequest(()=>{\r\n            return AdminUserAPI.updateAdminGroups({adminId: this.props.adminInfo.id, groupIds: Utils.setToArray(this.groupsSelected)});\r\n        })\r\n    }\r\n    render() {\r\n        let { isWaiting, filter } = this.state;\r\n        return <div>\r\n            <style children={\r\n                [\r\n                    '.table th:nth-child(1), .table td:nth-child(1){text-align: center}',\r\n                    '.table td:nth-child(2) > label, .table th:nth-child(2) > label{ margin: auto}'\r\n                ]} />\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" onClick={this.getAllGroup.bind(this)} title=\"reload\" size=\"sm\">\r\n                        <ReloadSVG color=\"white\" className={'icon ' + (isWaiting ? 'spin' : '')} />\r\n                    </Button>\r\n                    <Button onClick={this.updateGroups.bind(this)} color=\"primary\" size=\"sm\" children=\"Cập nhật\" />\r\n                </div>\r\n                <div className=\"d-flex space-sm\">\r\n                    <WInput title_input=\"Tìm kiếm\" onChange={this.findGroup.bind(this)} ref={this.refComponent.searchValue as any} />\r\n                    <WInputOther title_input=\"Loại\">\r\n                        <select ref={this.refComponent.typeSearch} onChange={this.findGroup.bind(this)}>\r\n                            <option value=\"groupCode\">Mã nhóm</option>\r\n                            <option value=\"name\">Tên nhóm</option>\r\n                        </select>\r\n                    </WInputOther>\r\n                </div>\r\n            </div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>\r\n                            <WCheckBox checked={this.state.justShowSelected} onChange={(evt) => { this.setState({ justShowSelected: evt.currentTarget.checked }) }} />\r\n                        </th>\r\n                        <th>Mã nhóm</th>\r\n                        <th>Tên nhóm</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        this.state.groups.map((group, index) => {\r\n                            let groupExits: boolean;\r\n                            if (group.isAllow) {\r\n                                this.groupsSelected.add(group.id);\r\n                                groupExits = true;\r\n                            } else {\r\n                                groupExits = this.groupsSelected.has(group.id);\r\n                            }\r\n                            if (\r\n                                (!this.state.justShowSelected || groupExits)\r\n                                && (filter ? filter.filter(group) : true)\r\n                            ) {\r\n                                return <tr key={index}>\r\n                                    <td>{index + 1}</td>\r\n                                    <td>\r\n                                        <WCheckBox onChange={(evt) => {\r\n                                            let checked = evt.currentTarget.checked;\r\n                                            if (checked) {\r\n                                                this.groupsSelected.add(group.id);\r\n                                                group.isAllow = true;\r\n                                            } else {\r\n                                                this.groupsSelected.delete(group.id);\r\n                                                group.isAllow = false;\r\n                                            }\r\n                                        }} checked={groupExits} />\r\n                                    </td>\r\n                                    <td>{group.groupCode}</td>\r\n                                    <td>{group.name}</td>\r\n                                </tr>\r\n                            }\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport AdminUserAPI, { AdminUserResult, AdminDTO } from \"../../../api/admin/admin-api\";\r\nimport moment from \"moment\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport WForm from \"../../../components/wform\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport WInput from \"../../../components/winput\";\r\nimport { Button } from \"reactstrap\";\r\n\r\ninterface EditAdminUserProps {\r\n    adminInfo: AdminUserResult,\r\n    adminMessageRequest: AdminMessageRequest,\r\n    onUpdate?: () => any\r\n}\r\ninterface EditAdminUserState {\r\n    input: AdminDTO,\r\n    isValidInput: {\r\n        email: boolean,\r\n        phone: boolean,\r\n        identityDocument: boolean\r\n    }\r\n}\r\nexport default class EditAdminUser extends React.Component<EditAdminUserProps, EditAdminUserState>{\r\n    avatar: React.RefObject<HTMLImageElement> = React.createRef();\r\n    avatarInput: React.RefObject<HTMLInputElement> = React.createRef();\r\n    wform: React.RefObject<WForm> = React.createRef();\r\n    constructor(props: EditAdminUserProps) {\r\n        super(props);\r\n        this.state = {\r\n            input: {},\r\n            isValidInput: { email: true, phone: true, identityDocument: true },\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.setInput();\r\n    }\r\n    setInput() {\r\n        let { adminInfo } = this.props;\r\n        let input: AdminDTO = {\r\n            id: adminInfo.id as any,\r\n            address: adminInfo.address,\r\n            adminCode: adminInfo.adminCode,\r\n            dateOfBirth: moment(adminInfo.dateOfBirth).format('YYYY-MM-DD'),\r\n            email: adminInfo.email,\r\n            fullname: adminInfo.fullname,\r\n            gender: adminInfo.gender as any,\r\n            identityDocument: adminInfo.identityDocument,\r\n            phone: adminInfo.phone\r\n        };\r\n        (this.avatar.current as any).src = `${process.env.REACT_APP_ADMIN_USER_IMAGE_PATH}${adminInfo.id}.jpg`;\r\n        (this.avatarInput as any).current.files = undefined;\r\n        this.setState(() => { return { input: input, isValidInput: { email: true, phone: true, identityDocument: true } } });\r\n    }\r\n    inputChange(fieldChange: string, evt: React.FormEvent<HTMLInputElement>, otherAction?: (evt: React.FormEvent<HTMLInputElement>) => any) {\r\n        (this.state.input as any)[fieldChange] = evt.currentTarget.value;\r\n        otherAction instanceof Function && otherAction(evt);\r\n        this.setState({});\r\n    }\r\n    radioInputGender(evt: React.ChangeEvent<HTMLInputElement>) {\r\n        this.state.input.gender = evt.currentTarget.value;\r\n    }\r\n    async updateAdminUser(evt: any) {\r\n        evt.preventDefault();\r\n        if (this.wform.current?.isValidInputs()) {\r\n            let update = await this.props.adminMessageRequest.sendRequest(() => {\r\n                return AdminUserAPI.updateUser(this.state.input);\r\n            })\r\n            if (update) {\r\n                let file: any = (this.avatarInput.current as any).files[0];\r\n                if (file) {\r\n                    let messageErrorUploadImage = update.message.content;\r\n                    let uploadImage: any = await this.props.adminMessageRequest.sendRequest(() => {\r\n                        return AdminUserAPI.uploadAvatar({ image: file, id: this.props.adminInfo.id });\r\n                    }, { getFailed: true });\r\n                    if (uploadImage.message.code !== 0) {\r\n                        messageErrorUploadImage += ` - ${this.props.adminMessageRequest.state.message}`;\r\n                        this.props.adminMessageRequest.setState({ color: 'warning', message: messageErrorUploadImage, isHide: false });\r\n                    }\r\n                }\r\n                this.props.onUpdate && await this.props.onUpdate();\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        let { input, isValidInput } = this.state;\r\n        return (\r\n            <WForm id={`form-main`} onSubmit={this.updateAdminUser.bind(this)} ref={this.wform as any} >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h2>Cập nhật tài khoản {this.props.adminInfo.fullname}</h2>\r\n                    <img className=\"avatar\" title=\"Ảnh đại diện\" src={process.env.REACT_APP_ADMIN_USER_IMAGE_PATH + 'default.jpg'} alt=\"Avatar\"\r\n                        onError={(evt) => {\r\n                            evt.currentTarget.src = process.env.REACT_APP_ADMIN_USER_IMAGE_PATH + 'default.jpg';\r\n                        }}\r\n                        ref={this.avatar}\r\n                        onClick={() => { (this.avatarInput.current as any).click() }}\r\n                    ></img>\r\n                </div>\r\n                <div className=\"d-flex space-nm\">\r\n                    <WInput title_input=\"Email\" value={this.state.input.email}\r\n                        is_invalid={!isValidInput.email}\r\n                        onChange={(evt) => {\r\n                            this.inputChange('email', evt,\r\n                                (evt) => { this.state.isValidInput.email = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.email) !== null })\r\n                        }} required />\r\n                </div>\r\n                <div className=\"d-flex space-nm\">\r\n                    <WInput title_input=\"Tên đầy đủ\" value={input.fullname}\r\n                        onChange={(evt) => { this.inputChange('fullname', evt) }} required />\r\n                    <WInput title_input=\"Ngày sinh\" value={input.dateOfBirth} no_title_animation={true} type=\"date\"\r\n                        onChange={(evt) => { this.inputChange('dateOfBirth', evt) }} required />\r\n                </div>\r\n                <div className=\"d-flex space-nm\">\r\n                    <WInput title_input=\"Số điện thoại\" value={input.phone} is_invalid={!this.state.isValidInput.phone}\r\n                        onChange={(evt) => {\r\n                            this.inputChange('phone', evt,\r\n                                (evt) => { this.state.isValidInput.phone = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.numbers) != null }\r\n                            )\r\n                        }} required />\r\n                    <WInput title_input=\"Số chứng minh thư\" value={input.identityDocument} is_invalid={!isValidInput.identityDocument}\r\n                        onChange={(evt) => {\r\n                            this.inputChange('identityDocument', evt,\r\n                                (evt) => { this.state.isValidInput.identityDocument = evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.numbers) != null })\r\n                        }} required />\r\n                </div>\r\n                <input type=\"file\" style={{ display: 'none' }} ref={this.avatarInput} accept=\"image/*\" onChange={\r\n                    (evt) => {\r\n                        let { files } = evt.currentTarget;\r\n                        if (files && files[0]) {\r\n                            let image = this.avatar.current;\r\n                            let reader = new FileReader();\r\n                            reader.onload = ({ target }) => {\r\n                                (image as any).src = target?.result;\r\n                            };\r\n                            reader.readAsDataURL(files[0]);\r\n                        }\r\n                    }\r\n                } />\r\n                <WInput title_input=\"Địa chỉ\" value={input.address}\r\n                    onChange={(evt) => { this.inputChange('address', evt) }} required />\r\n                <div className=\"winput-group-other\">\r\n                    <label>Giới tính</label>\r\n                    <div className=\"d-flex space-nm\">\r\n                        <label><input type=\"radio\" name=\"gender\" value=\"0\" onChange={this.radioInputGender.bind(this)} defaultChecked />Nam</label>\r\n                        <label><input type=\"radio\" name=\"gender\" value=\"1\" onChange={this.radioInputGender.bind(this)} />Nữ</label>\r\n                        <label><input type=\"radio\" name=\"gender\" value=\"2\" onChange={this.radioInputGender.bind(this)} />Khác</label>\r\n                    </div>\r\n                </div>\r\n                <br></br>\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" size=\"sm\">Cập nhật</Button>\r\n                    <Button color=\"danger\" size=\"sm\" onClick={this.setInput.bind(this)}>Xóa</Button>\r\n                </div>\r\n            </WForm>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport AdminUserAPI, { AdminUserResult } from \"../../../api/admin/admin-api\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput from \"../../../components/winput\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface AdminResetPasswordProps {\r\n    adminInfo: AdminUserResult,\r\n    adminMessageRequest: AdminMessageRequest\r\n}\r\ninterface AdminResetPasswordState {\r\n    passwordInput: string,\r\n    passwordConfirmInput: string\r\n}\r\nexport default class AdminResetPassword extends React.Component<AdminResetPasswordProps, AdminResetPasswordState> {\r\n    constructor(props: AdminResetPasswordProps) {\r\n        super(props);\r\n        this.state = {\r\n            passwordInput: '',\r\n            passwordConfirmInput: ''\r\n        }\r\n    }\r\n    update(evt: any) {\r\n        evt.preventDefault();\r\n        this.props.adminMessageRequest.sendRequest(() => {\r\n            return AdminUserAPI.resetPasswordUser(this.props.adminInfo.id, this.state.passwordInput);\r\n        })\r\n    }\r\n    render() {\r\n        let { adminInfo } = this.props;\r\n        return <div className=\"form-container\">\r\n            <WForm onSubmit={this.update.bind(this)}>\r\n                <h2>Thay đổi mật khẩu {adminInfo.fullname}</h2>\r\n                <WInput title_input=\"Mật khẩu mới\" type=\"password\"\r\n                    onChange={(evt) => { this.setState({ passwordInput: evt.currentTarget.value }) }} />\r\n                <WInput title_input=\"Xác nhận mật khẩu mới\" type=\"password\"\r\n                    is_invalid={this.state.passwordConfirmInput != this.state.passwordInput}\r\n                    onChange={(evt) => { this.setState({ passwordConfirmInput: evt.currentTarget.value }) }} />\r\n                <br />\r\n                <Button color=\"primary\" size=\"sm\" children=\"Cập nhật mật khẩu\" />\r\n            </WForm>\r\n        </div>\r\n    }\r\n}","import { map } from \"jquery\";\r\nimport React from \"react\";\r\nimport { Button, Util } from \"reactstrap\";\r\nimport AdminUserAPI, { AdminPermissionsResult } from \"../../../api/admin/admin-api\";\r\nimport { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport ReloadSVG from \"../../../logo-svg/reload\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface UpdatePermissionsProps {\r\n    id: number | string,\r\n    adminMessageRequest: AdminMessageRequest\r\n}\r\ninterface UpdatePermissionsState {\r\n    justShowSelected: boolean,\r\n    isWaiting: boolean,\r\n    permissions: AdminPermissionsResult[],\r\n    filter: any,\r\n}\r\nexport default class UpdatePermissions extends React.Component<UpdatePermissionsProps, UpdatePermissionsState>{\r\n    refComponent = {\r\n        typeSearch: React.createRef<HTMLSelectElement>(),\r\n        searchValue: React.createRef<HTMLInputElement>(),\r\n    }\r\n    searchValue: string = '';\r\n    permissionSelected: Set<any> = new Set([]);\r\n    isFirstRender = false;\r\n    constructor(props: UpdatePermissionsProps) {\r\n        super(props);\r\n        this.state = {\r\n            justShowSelected: false,\r\n            isWaiting: false,\r\n            permissions: [],\r\n            filter: undefined\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getAllPermission();\r\n    }\r\n    findPermission() {\r\n        this.searchValue = (this.refComponent.searchValue.current as any).input.current.value.trim();\r\n        let typeSearch = this.refComponent.typeSearch.current?.value;\r\n        if (this.searchValue) {\r\n            switch (typeSearch) {\r\n                case 'method':\r\n                    this.setState({\r\n                        filter: {\r\n                            data: this.searchValue.toLowerCase(),\r\n                            filter: function (per: PermissionAPIResult) { return per.method?.toLowerCase() == this.data; }\r\n                        }\r\n                    });\r\n                    break;\r\n                default:\r\n                    this.setState({\r\n                        filter: Utils.filterString(this.searchValue, (per) => { return per[typeSearch as string] })\r\n                    })\r\n            }\r\n        } else {\r\n            this.setState({ filter: undefined });\r\n        }\r\n    }\r\n    async getAllPermission() {\r\n        await this.setState({ isWaiting: true });\r\n        let result = await this.props.adminMessageRequest.sendRequest(() => {\r\n            return AdminUserAPI.getAdminPermissions(this.props.id as number);\r\n        }, { hideWhenDone: true });\r\n        this.permissionSelected.clear();\r\n        if (result !== undefined) {\r\n            this.isFirstRender = true;\r\n            await this.setState({ permissions: result.data, isWaiting: false });\r\n        } else {\r\n            await this.setState({ isWaiting: false })\r\n        }\r\n    }\r\n    async updatePermissions() {\r\n        let permissionIds = new Array(this.permissionSelected.size);\r\n        let index = 0;\r\n        for (let value of this.permissionSelected as any) {\r\n            permissionIds[index++] = value;\r\n        }\r\n        this.props.adminMessageRequest.sendRequest(() => {\r\n            return AdminUserAPI.updateAdminPermissions(this.props.id as number, permissionIds);\r\n        })\r\n    }\r\n    render() {\r\n        let { isWaiting, filter } = this.state;\r\n        return <div>\r\n            <style children={\r\n                [\r\n                    '.table th:nth-child(1), .table td:nth-child(1){text-align: center}',\r\n                    '.table td:nth-child(2) > label, .table th:nth-child(2) > label{ margin: auto}'\r\n                ]} />\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" onClick={this.getAllPermission.bind(this)} title=\"reload\" size=\"sm\">\r\n                        <ReloadSVG color=\"white\" className={'icon ' + (isWaiting ? 'spin' : '')} />\r\n                    </Button>\r\n                    <Button onClick={this.updatePermissions.bind(this)} color=\"primary\" size=\"sm\" children=\"Cập nhật\" />\r\n                </div>\r\n                <div className=\"d-flex space-sm\">\r\n                    <WInput title_input=\"Tìm kiếm\" onChange={this.findPermission.bind(this)} ref={this.refComponent.searchValue as any} />\r\n                    <WInputOther title_input=\"Loại\">\r\n                        <select ref={this.refComponent.typeSearch} onChange={this.findPermission.bind(this)}>\r\n                            <option value=\"code\">Mã chức năng</option>\r\n                            <option value=\"api\">Đường dẫn</option>\r\n                            <option value=\"method\">Phương thức</option>\r\n                            <option value=\"name\">Tên chức năng</option>\r\n                        </select>\r\n                    </WInputOther>\r\n                </div>\r\n            </div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>\r\n                            <WCheckBox checked={this.state.justShowSelected} onChange={(evt) => { this.setState({ justShowSelected: evt.currentTarget.checked }) }} />\r\n                        </th>\r\n                        <th>Mã CN</th>\r\n                        <th>Tên CN</th>\r\n                        <th>API</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        this.state.permissions.map((permission, index) => {\r\n                            let permissionExits: boolean;\r\n                            if (this.isFirstRender && permission.isAllow) {\r\n                                this.permissionSelected.add(permission.id);\r\n                                permissionExits = true;\r\n                            } else {\r\n                                permissionExits = this.permissionSelected.has(permission.id);\r\n                            }\r\n                            if (\r\n                                (!this.state.justShowSelected || permissionExits)\r\n                                && (filter ? filter.filter(permission) : true)\r\n                            ) {\r\n                                return <tr key={index}>\r\n                                    <td>{index + 1}</td>\r\n                                    <td>\r\n                                        <WCheckBox onChange={(evt) => {\r\n                                            let checked = evt.currentTarget.checked;\r\n                                            if (checked) {\r\n                                                this.permissionSelected.add(permission.id);\r\n                                                // permission.isAllow = true;\r\n                                            } else {\r\n                                                this.permissionSelected.delete(permission.id);\r\n                                                // permission.isAllow = false;\r\n                                            }\r\n                                        }} checked={permissionExits} />\r\n                                    </td>\r\n                                    <td>{permission.code}</td>\r\n                                    <td>{permission.name}</td>\r\n                                    <td>{permission.api}{' => '}{permission.method}</td>\r\n                                </tr>\r\n                            }\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            {this.isFirstRender = false}\r\n        </div>\r\n    }\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport AdminUserAPI, { AdminUserResult } from \"../../../api/admin/admin-api\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport UpdateGroups from \"./admin-groups\";\r\nimport EditAdminUser from \"./edit-user\";\r\nimport AdminResetPassword from \"./reset-password\";\r\nimport UpdatePermissions from \"./update-permissions\";\r\n\r\ninterface DetailAdminUserProps {\r\n    goBack?: {\r\n        action: () => any,\r\n        id?: number | string\r\n        adminCode?: string,\r\n    },\r\n}\r\ninterface DetailAdminUserState {\r\n    adminInfo: AdminUserResult,\r\n    viewAction: 'view-detail' | 'update-user' | 'change-password' | 'permissions' | 'group-permissions',\r\n    isDisable: boolean,\r\n    isNotFoundUser: boolean,\r\n    nextUpdate: boolean\r\n}\r\n\r\nexport default class DetailAdminUser extends React.Component<DetailAdminUserProps, DetailAdminUserState>{\r\n    adminMessageRequest: React.RefObject<AdminMessageRequest> = React.createRef();\r\n    avatar: React.RefObject<HTMLImageElement> = React.createRef();\r\n    editForm: React.RefObject<EditAdminUser> = React.createRef();\r\n    oldLocation: { url: string, state: any };\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            adminInfo: {} as any,\r\n            viewAction: 'view-detail',\r\n            isDisable: false,\r\n            isNotFoundUser: false,\r\n            nextUpdate: false\r\n        }\r\n        this.oldLocation = {} as any;\r\n    }\r\n    componentDidMount() {\r\n        this.getUser();\r\n    }\r\n    checkGender() {\r\n        console.log(Number(this.state.adminInfo.gender));\r\n        switch (Number(this.state.adminInfo.gender)) {\r\n            case 0: return 0;\r\n            case 1: return 1;\r\n            default: return undefined;\r\n        }\r\n    }\r\n    async updateUser() {\r\n        await this.setState({ isDisable: true });\r\n        let isUpdateSuccess = await this.editForm.current?.updateAdminUser(this.adminMessageRequest.current as any);\r\n        this.setState({ isDisable: false, nextUpdate: isUpdateSuccess as any });\r\n    }\r\n    menuClickEvent(evt: React.MouseEvent<HTMLLIElement, MouseEvent>) {\r\n        let target = evt.currentTarget;\r\n        this.setState({ viewAction: target.getAttribute('view-action') as any });\r\n        this.adminMessageRequest.current?.closeMessage();\r\n    }\r\n    async componentDidUpdate() {\r\n        if (this.state.nextUpdate && this.state.viewAction === 'view-detail') {\r\n            await this.setState({ nextUpdate: false });\r\n            this.getUser();\r\n        }\r\n    }\r\n    render() {\r\n        let { viewAction, adminInfo } = this.state;\r\n        let btnGoBack = this.props.goBack\r\n            ? <div\r\n                onClick={() => { window.history.replaceState(this.oldLocation.state, '', this.oldLocation.url); this.props.goBack?.action() }}>Quay về</div>\r\n            : <Link to=\"/admin/admin-users\" >Quay về</Link>\r\n\r\n        return (\r\n            <div className={`menu-select-layout ${this.state.isDisable ? 'disabled' : ''}`}>\r\n                <div className=\"menu-select\">\r\n                    <ul>\r\n                        <li className=\"bg-danger text-white\"\r\n                            onClick={(evt) => {\r\n                                let firstChild = evt.currentTarget.firstChild; firstChild && (firstChild as any).click();\r\n                            }}>{btnGoBack}</li>\r\n                        <li className={viewAction === 'view-detail' ? 'active' : ''} view-action=\"view-detail\"\r\n                            onClick={this.menuClickEvent.bind(this)}>Xem thông tin</li>\r\n                        <li className={viewAction === 'update-user' ? 'active' : ''} view-action=\"update-user\"\r\n                            onClick={this.menuClickEvent.bind(this)}>Cập nhật TK</li>\r\n                        <li className={viewAction === 'change-password' ? 'active' : ''} view-action=\"change-password\"\r\n                            onClick={this.menuClickEvent.bind(this)}>Thay đổi mật khẩu</li>\r\n                        <li className={viewAction === 'permissions' ? 'active' : ''} view-action=\"permissions\"\r\n                            onClick={this.menuClickEvent.bind(this)}>Chức năng</li>\r\n                        <li className={viewAction === 'group-permissions' ? 'active' : ''} view-action=\"group-permissions\"\r\n                            onClick={this.menuClickEvent.bind(this)}>Nhóm chức năng</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"child-content\">\r\n                    <div className={`form-container`}>\r\n                        <AdminMessageRequest ref={this.adminMessageRequest}\r\n                            onBeforeSendRequest={() => { this.setState({ isDisable: true }) }}\r\n                            onAfterSendRequest={() => { this.setState({ isDisable: false }) }}\r\n                        />\r\n                        {\r\n                            !this.state.isNotFoundUser ? (\r\n                                <div>\r\n                                    { viewAction === \"view-detail\"\r\n                                        && <div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <h2>Thông tin tài khoản {this.state.adminInfo.fullname}</h2>\r\n                                                <img className=\"avatar\" src={`${process.env.REACT_APP_ADMIN_USER_IMAGE_PATH}${adminInfo.id}.jpg`}\r\n                                                    onError={(evt) => { evt.currentTarget.src = `${process.env.REACT_APP_ADMIN_USER_IMAGE_PATH}default.jpg` }}\r\n                                                />\r\n                                            </div>\r\n                                            <br />\r\n                                            <table className=\"table wtable-info\">\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td>ID</td>\r\n                                                        <td>{adminInfo.id}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Tên tài khoản</td>\r\n                                                        <td>{adminInfo.adminCode}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Tên đầy đủ</td>\r\n                                                        <td>{adminInfo.fullname}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Email</td>\r\n                                                        <td>{adminInfo.email}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Giới tính</td>\r\n                                                        <td>{adminInfo.gender == 0 ? 'Nam' : adminInfo.gender == 1 ? 'Nữ' : 'Khác'}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Địa chỉ</td>\r\n                                                        <td>{adminInfo.address}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Số điện thoại</td>\r\n                                                        <td>{adminInfo.phone}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Số CMND</td>\r\n                                                        <td>{adminInfo.identityDocument}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Người tạo</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.createBy}>{adminInfo.createBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật lần cuối</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.modifiedBy}>{adminInfo.modifiedBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật lần cuối</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.modifiedBy}>{adminInfo.modifiedBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật lần cuối</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.modifiedBy}>{adminInfo.modifiedBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật lần cuối</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.modifiedBy}>{adminInfo.modifiedBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật lần cuối</td>\r\n                                                        <td><Link to={\"/admin/admin-user/detail?adminCode=\" + adminInfo.modifiedBy}>{adminInfo.modifiedBy} - {moment(adminInfo.createDate).calendar()}</Link></td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    }\r\n                                    { viewAction === 'update-user' && <EditAdminUser ref={this.editForm}\r\n                                        adminInfo={this.state.adminInfo}\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                        onUpdate={() => { this.setState({ nextUpdate: true }) }}\r\n                                    />}\r\n                                    { viewAction === 'permissions' && <UpdatePermissions\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                        id={adminInfo.id}\r\n                                    />}\r\n                                    { viewAction === 'change-password' && <AdminResetPassword\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                        adminInfo={this.state.adminInfo}\r\n                                    />}\r\n                                    { viewAction === 'group-permissions' && <UpdateGroups\r\n                                        adminInfo={this.state.adminInfo}\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                    />}\r\n                                </div>\r\n                            ) : <div className=\"d-flex space-sm\">\r\n                                    <Button color=\"primary\" size=\"sm\" onClick={this.getUser.bind(this)}>Tải lại</Button>\r\n                                    {btnGoBack}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        )\r\n    }\r\n    async getUser() {\r\n        await this.setState({ isDisable: true });\r\n        let getData = () => {\r\n            let { goBack }: any = this.props;\r\n            let search = new URLSearchParams(window.location.search);\r\n            for (let key of ['id', 'adminCode']) {\r\n                let value = (goBack && goBack[key]) || search.get(key);\r\n                if (value) return { data: { [key]: value }, key: key, value: value }\r\n            }\r\n        }\r\n        let data: any = getData();\r\n        if (data === undefined) { this.setState({ isNotFoundUser: true, isDisable: false }); return; }\r\n        window.history.replaceState('', '', `/admin/admin-user/detail?${data.key}=${data.value}`);\r\n\r\n        let resultReq = await this.adminMessageRequest.current?.sendRequest(() => { return AdminUserAPI.getUser(data.data) }, { hideWhenDone: true });\r\n\r\n        if (resultReq) {\r\n            let adminInfo = resultReq.data;\r\n            await this.setState({ adminInfo: adminInfo, isDisable: false });\r\n        } else {\r\n            this.setState({ isNotFoundUser: true, isDisable: false });\r\n        };\r\n    }\r\n}","import moment from 'moment';\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from 'reactstrap';\r\nimport AdminUserAPI, { AdminUserResult } from \"../../../api/admin/admin-api\";\r\nimport Utils from '../../../common/Utils';\r\nimport ImageError from \"../../../components/image-error\";\r\nimport WCheckBox from '../../../components/wcheckbox';\r\nimport WTable from \"../../../components/wtable\";\r\nimport SYSTEM_CONSTANTS from '../../../constants';\r\nimport AddSVG from '../../../logo-svg/add';\r\nimport CancelSVG from '../../../logo-svg/cancel';\r\nimport EditSVG from '../../../logo-svg/edit';\r\nimport AdminMessageRequest from '../../../page-component/admin/admin-message-request';\r\nimport DetailAdminUser from './detail-user';\r\n\r\n\r\ninterface AdminUserPageState {\r\n    action: undefined | 'view-detail-page',\r\n    isSelectedAll: boolean,\r\n    idEdit: number\r\n}\r\n\r\nexport default class AdminUserPage extends React.Component<any, AdminUserPageState> {\r\n    firstNumOfKey: number;\r\n    tableRef: React.RefObject<WTable>;\r\n    idsSelected: number[];\r\n    requestMessage: React.RefObject<AdminMessageRequest>;\r\n    page: number;\r\n    limit: number;\r\n\r\n    render() {\r\n        return <div id=\"main-view\">\r\n            {\r\n                this.state.action === 'view-detail-page' &&\r\n                <DetailAdminUser goBack={{\r\n                    action: () => { this.setState({ action: undefined }); window.history.replaceState('','',`/admin/admin-users/page?${this.page}&limit=${this.limit}`) },\r\n                    id: this.state.idEdit\r\n                }} />\r\n            }\r\n            <div style={this.state.action === undefined ? undefined : { display: 'none' }}>\r\n                <AdminMessageRequest ref={this.requestMessage} />\r\n                <div className=\"d-flex f-bar space-sm\">\r\n                    <Link to=\"/admin/admin-user/add\" className=\"btn btn-primary btn-sm\"> <AddSVG className=\"icon\" color=\"white\" /> <span>Thêm tài khoản</span> </Link>\r\n                    <Button color=\"danger\" size=\"sm\" onClick={this.deleteUserSelected.bind(this)}> <CancelSVG className=\"icon\" color=\"white\" /> <span>Xóa</span> </Button>\r\n                </div>\r\n                <WTable ref={this.tableRef} getPage={this.getPageUser.bind(this)}\r\n                    fillData={this.fillData.bind(this)}\r\n                    headers={[\r\n                        '#',\r\n                        <WCheckBox className=\"cc\" checked={this.state.isSelectedAll} onChange={(evt) => {\r\n                            let isSelectedAll = evt.currentTarget.checked;\r\n                            this.setState({ isSelectedAll: isSelectedAll });\r\n                        }} />,\r\n                        'TK',\r\n                        'Tên TK',\r\n                        'Tên',\r\n                        'Giới tính',\r\n                        'Cập nhật',\r\n                        'Ngày sinh',\r\n                        'Chi tiết'\r\n                    ]}\r\n                    limit={this.limit}\r\n                    page={this.page}\r\n                    onPageChangeEvent={(evt) => {\r\n                        if (evt.limitChange !== this.limit || evt.pageChange !== this.page) {\r\n                            this.page = evt.pageChange;\r\n                            this.limit = evt.limitChange;\r\n                            window.history.pushState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                        } else {\r\n                            window.history.replaceState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                        }\r\n                    }} />\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            action: undefined,\r\n            isSelectedAll: false,\r\n            idEdit: undefined as any\r\n        }\r\n        this.idsSelected = [];\r\n        this.tableRef = React.createRef();\r\n        this.firstNumOfKey = 0;\r\n        this.requestMessage = React.createRef();\r\n        let { page, limit } = Utils.getPageRequest();\r\n        this.page = page; this.limit = limit;\r\n    }\r\n    componentDidMount() {\r\n        this.tableRef.current?.reloadPage();\r\n        window.history.replaceState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n    }\r\n    async getPageUser(page: number, limit: number): Promise<any> {\r\n        this.firstNumOfKey = (!this.firstNumOfKey as any + 0);\r\n        let data = await this.requestMessage.current\r\n            ?.sendRequest(\r\n                () => { return AdminUserAPI.getAllUser({ page: page, limit: limit, isUnlimited: false }) },\r\n                { hideWhenDone: true, hideWaiting: true, getFailed: true }\r\n            );\r\n        this.idsSelected = [];\r\n        if (data !== undefined) {\r\n            if (data.message.code === 0) {\r\n                return {\r\n                    data: data.data,\r\n                    limit: Number(limit),\r\n                    offset: data.message.data.offset,\r\n                    page: data.message.data.page,\r\n                    totalPage: data.message.data.totalPage,\r\n                    totalRecord: data.message.data.totalRecord\r\n                };\r\n            } else if (data.message.code === SYSTEM_CONSTANTS.ERROR_REQUEST.PAGE_OUT_INDEX) {\r\n                return await (this.getPageUser(data.message.data.totalPage, limit));\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    fillData(user: AdminUserResult, index: any) {\r\n        if (this.state.isSelectedAll) {\r\n            let index = this.idsSelected.indexOf(user.id);\r\n            if (index !== -1) this.idsSelected.splice(index, 1);\r\n            this.idsSelected.push(user.id);\r\n        }\r\n        return <tr key={this.firstNumOfKey + '' + index} onClick={\r\n            (evt) => {\r\n                let checkbox = $('.user-checkbox', evt.currentTarget)[0];\r\n                if ($(checkbox).find(evt.target as any).length === 0 && checkbox !== evt.target) {\r\n                    checkbox.click();\r\n                }\r\n            }\r\n        }\r\n        >\r\n            <td>{index + 1}</td> \r\n            <td><WCheckBox className=\"user-checkbox\" onChange={(evt) => {\r\n                let index = this.idsSelected.indexOf(user.id);\r\n                if (index !== -1) this.idsSelected.splice(index, 1);\r\n                evt.currentTarget.checked && this.idsSelected.push(user.id);\r\n            }} checked={this.state.isSelectedAll} /></td>\r\n            <td>\r\n                <ImageError\r\n                    src={(process.env.REACT_APP_ADMIN_USER_IMAGE_PATH || '') + user.id + '.jpg'}\r\n                    err-src={(process.env.REACT_APP_ADMIN_USER_IMAGE_PATH || '') + '/default.jpg'} />\r\n            </td>\r\n            <td>{user.adminCode}</td>\r\n            <td>{user.fullname}</td>\r\n            <td>{user.gender === 0 ? 'Nam' : user.gender === 1 ? 'Nữ' : 'Khác'}</td>\r\n            <td title={`Tạo bởi: ${user.createBy} - ${moment(user.createDate).calendar()}\\nCập nhật: ${user.modifiedBy}-${moment(user.modifiedDate).calendar()}}`}>\r\n                {user.modifiedBy}\r\n            </td>\r\n            <td>{moment(user.dateOfBirth).format('DD-MM-YYYY')}</td>\r\n            <td className=\"text-center\">\r\n                <button className=\"btn btn-primary btn-sm\" onClick={() => {\r\n                    this.setState({ action: \"view-detail-page\", idEdit: user.id });\r\n                    console.log(user.id);\r\n                }}><EditSVG color=\"white\" className=\"icon\" /></button>\r\n            </td>\r\n        </tr>\r\n    }\r\n    async deleteUserSelected() {\r\n        await this.requestMessage.current?.sendRequest(() => { return AdminUserAPI.deleteUsers(this.idsSelected) });\r\n        let message = this.requestMessage.current?.state.message;\r\n        let alertColor = this.requestMessage.current?.state.color;\r\n        await this.tableRef.current?.reloadPage();\r\n        this.requestMessage.current?.setMessage({ color: alertColor, message: message, isHide: false });\r\n    }\r\n}","import axiosClient from \"../axiosCient\"\r\nimport { BaseDataModelAPIResult, PageDTO } from \"../declare\"\r\n\r\nconst AuthorAPI = {\r\n    getAll: (pageInfo: PageDTO) => {\r\n        return axiosClient.get('/admin/authors', { params: pageInfo });\r\n    }\r\n}\r\n\r\nexport default AuthorAPI\r\n\r\nexport interface AuthorAPIResult extends BaseDataModelAPIResult {\r\n    \"name\": string,\r\n    \"authorCode\": string,\r\n    \"description\": string,\r\n}","import axiosClient from \"../axiosCient\";\r\nimport { APIResult, BaseDataModelAPIResult, PageDTO } from \"../declare\";\r\nimport { AuthorAPIResult } from \"./author-api\";\r\nimport { CategoryAPIResult } from \"./category-api\";\r\nimport { PublisherAPIResult } from \"./publisher-api\";\r\n\r\nconst BookAPI = {\r\n    getBooks: (pageInfo: PageDTO)\r\n        : Promise<APIResult<BookAPIResult>> => {\r\n        return axiosClient.get('/admin/books', { params: pageInfo });\r\n    },\r\n    addBook: (data: any) => {\r\n        return axiosClient.post('/admin/book', data);\r\n    }\r\n}\r\n\r\nexport interface BookAPIResult extends BaseDataModelAPIResult {\r\n    \"title\"?: string,\r\n    \"edition\"?: number,\r\n    \"price\"?: number,\r\n    \"pageNumber\"?: number,\r\n    \"description\"?: string,\r\n    \"rate\"?: number,\r\n    \"rateCount\"?: number,\r\n    \"isbn\"?: number,\r\n    \"quantity\"?: number,\r\n    \"publisher\"?: PublisherAPIResult,\r\n    \"categories\"?: CategoryAPIResult[],\r\n    \"authors\"?: AuthorAPIResult[]\r\n}\r\nexport default BookAPI;","import axiosClient from \"../axiosCient\";\r\nimport { APIResult, PageDTO } from \"../declare\";\r\n\r\nconst CategoryAPI = {\r\n    getAllCategory: (pageInfo: PageDTO): Promise<APIResult<CategoryAPIResult[]>> => {\r\n        return axiosClient.get('/admin/categories', { params: pageInfo });\r\n    }\r\n}\r\nexport default CategoryAPI;\r\nexport interface CategoryAPIResult {\r\n    \"id\": number\r\n    \"categoryCode\": string,\r\n    \"category\": string,\r\n    \"createDate\": string,\r\n    \"modifiedDate\": string,\r\n    \"createBy\": string,\r\n    \"modifiedBy\": string,\r\n}","import axiosClient from \"../axiosCient\";\r\nimport { APIResult, PageDTO } from \"../declare\";\r\n\r\nconst PublisherAPI = {\r\n    getAll: (pageInfo: PageDTO): Promise<APIResult<PublisherAPIResult>> => {\r\n        return axiosClient.get('/admin/publishers', { params: pageInfo });\r\n    }\r\n}\r\nexport default PublisherAPI;\r\n\r\nexport interface PublisherAPIResult {\r\n    \"id\": number,\r\n    \"publisherCode\": string,\r\n    \"name\": string,\r\n    \"createDate\": string,\r\n    \"modifiedDate\": string,\r\n    \"createBy\": string,\r\n    \"modifiedBy\": string,\r\n    \"deleteStatus\": number\r\n}","\r\nimport React from \"react\";\r\nimport { Button, Col, Container, Row } from \"reactstrap\";\r\nimport Utils from \"../common/Utils\";\r\nimport ReloadSVG from \"../logo-svg/reload\";\r\nimport AdminMessageRequest from \"../page-component/admin/admin-message-request\";\r\nimport WCheckBox from \"./wcheckbox\";\r\nimport WInput, { WInputOther } from \"./winput\";\r\nimport './list-select.scss';\r\n\r\ninterface ListSelectProps {\r\n    getData: () => any,\r\n    viewData: (data: any) => JSX.Element[],\r\n    header: JSX.Element[],\r\n    filter?: any,\r\n    typeSearch: { propertySearch: string, viewSearch: string }[],\r\n    getKey: (data: any) => any,\r\n    getAllow?: (data: any) => boolean,\r\n    onComplete: (data: any) => any\r\n    valueSelected?: any\r\n}\r\ninterface ListSelectState {\r\n    justShowSelected: boolean,\r\n    isWaiting: boolean,\r\n    data: any[],\r\n    filter: any,\r\n}\r\nexport default class ListSelect extends React.Component<ListSelectProps, ListSelectState>{\r\n    refComponent = {\r\n        typeSearch: React.createRef<HTMLSelectElement>(),\r\n        searchValue: React.createRef<HTMLInputElement>(),\r\n    }\r\n    searchValue: string = '';\r\n    valueSelected: any = {};\r\n    adminMessageRequest = React.createRef<AdminMessageRequest>();\r\n    isFirstRender = false;\r\n\r\n    private isSelectAll = false;\r\n    private tableRef = React.createRef<HTMLTableSectionElement>();\r\n\r\n    constructor(props: ListSelectProps) {\r\n        super(props);\r\n        this.state = {\r\n            justShowSelected: false,\r\n            isWaiting: false,\r\n            data: undefined as any,\r\n            filter: undefined\r\n        }\r\n        if (typeof this.props.valueSelected === 'object') {\r\n            if (this.props.valueSelected instanceof Array) {\r\n                this.valueSelected = {};\r\n            } else {\r\n                this.valueSelected = this.props.valueSelected;\r\n            }\r\n        }\r\n\r\n    }\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n    changeFilter() {\r\n        this.searchValue = (this.refComponent.searchValue.current as any).input.current.value.trim();\r\n        let typeSearch = this.refComponent.typeSearch.current?.value;\r\n        if (this.searchValue) {\r\n            let filter;\r\n            if (this.props.filter && (filter = this.props.filter[typeSearch as any])) {\r\n                this.props.filter.data = this.searchValue;\r\n            } else {\r\n                filter = Utils.filterString(this.searchValue, (data) => { return data[typeSearch as string] || '' });\r\n            }\r\n            this.setState({ filter: filter })\r\n        } else {\r\n            this.setState({ filter: undefined });\r\n        }\r\n    }\r\n    async getData() {\r\n        await this.setState({ isWaiting: true });\r\n        let result = await this.props.getData();\r\n        if (result !== undefined) {\r\n            this.isFirstRender = true;\r\n            await this.setState({ data: result as any, isWaiting: false });\r\n        } else {\r\n            await this.setState({ isWaiting: false })\r\n        }\r\n    }\r\n    async updatePermissions() {\r\n        this.props.onComplete && this.props.onComplete(this.valueSelected);\r\n    }\r\n    toggleSelectAll() {\r\n        $<HTMLInputElement>('> tr > td:nth-child(2) > .select > input[type=checkbox]', this.tableRef.current as any).each((index, e) => {\r\n            if (e.checked === this.isSelectAll) e.click();\r\n        });\r\n        this.isSelectAll = !this.isSelectAll;\r\n        this.setState({});\r\n    }\r\n    render() {\r\n        let { isWaiting, filter } = this.state;\r\n        let valueSelect: any = {}; // lọc ra các phần tử không tồn tại\r\n        return <div className=\"list-select\">\r\n            <Container fluid={true} className=\"my-2 px-0\">\r\n                <Row>\r\n                    <Col sm={12} md={6} className=\"d-flex align-items-center mr-auto\">\r\n                        <div className=\"d-flex space-sm\">\r\n                            <Button color=\"primary\" onClick={this.getData.bind(this)} title=\"reload\" size=\"sm\">\r\n                                <ReloadSVG color=\"white\" className={'icon ' + (isWaiting ? 'spin' : '')} />\r\n                            </Button>\r\n                            <Button onClick={this.updatePermissions.bind(this)} color=\"primary\" size=\"sm\" children=\"OK\" />\r\n                            <Button onClick={this.toggleSelectAll.bind(this)} color={this.isSelectAll ? 'danger' : 'primary'} size=\"sm\" children={this.isSelectAll ? 'Hủy chọn tất cả' : 'Chọn tất cả'} />\r\n                        </div>\r\n                    </Col>\r\n                    <Col sm={12} md={5}>\r\n                        <div className=\"d-flex space-sm \">\r\n                            <WInput title_input=\"Tìm kiếm\" onChange={this.changeFilter.bind(this)} ref={this.refComponent.searchValue as any} />\r\n                            <WInputOther title_input=\"Loại\">\r\n                                <select ref={this.refComponent.typeSearch} onChange={this.changeFilter.bind(this)}>\r\n                                    {this.props.typeSearch.map((type, index) => {\r\n                                        return <option key={index} value={type.propertySearch}>{type.viewSearch}</option>\r\n                                    })}\r\n                                </select>\r\n                            </WInputOther>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <table className=\"table table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>\r\n                            <WCheckBox className=\"select\" checked={this.state.justShowSelected} onChange={(evt) => { this.setState({ justShowSelected: evt.currentTarget.checked }) }} />\r\n                        </th>\r\n                        {this.props.header}\r\n                    </tr>\r\n                </thead>\r\n                <tbody ref={this.tableRef}>\r\n                    {\r\n                        this.state.data !== undefined && this.state.data.map((data, index) => {\r\n                            let dataExits: boolean = false;\r\n                            let key = this.props.getKey(data);\r\n                            if ((this.isFirstRender && this.props.getAllow && this.props.getAllow(data)) || this.valueSelected.hasOwnProperty(key)) {\r\n                                valueSelect[key] = data;\r\n                                dataExits = true;\r\n                            }\r\n                            if (\r\n                                (!this.state.justShowSelected || dataExits)\r\n                                && (filter ? filter.filter(data) : true)\r\n                            ) {\r\n                                return <tr key={key}>\r\n                                    <td>{index + 1}</td>\r\n                                    <td>\r\n                                        <WCheckBox className=\"select\" onChange={(evt) => {\r\n                                            let checked = evt.currentTarget.checked;\r\n                                            if (checked) {\r\n                                                this.valueSelected[key] = data;\r\n                                            } else {\r\n                                                delete this.valueSelected[key];\r\n                                            }\r\n                                        }} checked={dataExits} />\r\n                                    </td>\r\n                                    {this.props.viewData(data)}\r\n                                </tr>\r\n                            }\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            {(() => {\r\n                this.isFirstRender = false;\r\n                if (this.state.data !== undefined) this.valueSelected = valueSelect;\r\n            })()}\r\n        </div>\r\n    }\r\n} ","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Col, Container, Row } from \"reactstrap\";\r\nimport AuthorAPI, { AuthorAPIResult } from \"../../../api/admin/author-api\";\r\nimport BookAPI, { BookAPIResult } from \"../../../api/admin/book-api\";\r\nimport CategoryAPI, { CategoryAPIResult } from \"../../../api/admin/category-api\";\r\nimport PublisherAPI, { PublisherAPIResult } from \"../../../api/admin/publisher-api\";\r\nimport ListSelect from \"../../../components/list-select\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport { AdminOverrideWindow } from \"../../../contexts/admin-overide-window\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface AddBookState {\r\n    isDisable: boolean,\r\n    publishers: PublisherAPIResult[],\r\n    categories: any,\r\n    authors: any,\r\n}\r\n\r\nexport default class AddBook extends React.Component<{}, AddBookState> {\r\n    form = React.createRef<WForm>();\r\n    bookImageInput = React.createRef<HTMLInputElement>();\r\n    bookImageView = React.createRef<HTMLImageElement>();\r\n    messageRequest = React.createRef<AdminMessageRequest>();\r\n    isShowCategories = false;\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            isDisable: false,\r\n            publishers: [],\r\n            categories: {},\r\n            authors: {}\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        PublisherAPI.getAll({ unlimited: true }).then((resp) => {\r\n            this.setState({ publishers: resp.data });\r\n        })\r\n        this.form.current?.setData({\r\n            title: 'Tôi thấy bà hàng xóm',\r\n            isbn: 12,\r\n            pageNumber: 12,\r\n            price: 12,\r\n            description: 'Hello',\r\n            edition: 14\r\n        } as BookAPIResult)\r\n    }\r\n    onSubmit(evt: any) {\r\n        evt.preventDefault();\r\n        let data = { ... this.form.current?.getData(), categories: Object.values(this.state.categories), authors: Object.values(this.state.authors) }\r\n        data.publisher = { id: data.publisher };\r\n        this.setState(() => { return { isDisable: true } });\r\n        this.messageRequest.current?.sendRequest(() => { return BookAPI.addBook(data) });\r\n        this.setState(() => { return { isDisable: false } });\r\n    }\r\n    render() {\r\n        let inputList = {\r\n            categories: (\r\n                <div className=\"d-flex space-nm align-items-end\">\r\n                    <WInput title_input=\"Thể loại\" readOnly required is_invalid={Object.keys(this.state.categories).length === 0}\r\n                        value={Object.entries(this.state.categories)\r\n                            .map(([id, category]) => {\r\n                                console.log(category);\r\n                                return (category as CategoryAPIResult).category;\r\n                            }).join(', ')} />\r\n                    <AdminOverrideWindow.Consumer>\r\n                        {({ addWindow, removeWindow }) => {\r\n                            return <Button color=\"primary\" size=\"sm\" style={{ whiteSpace: 'nowrap' }}\r\n                                onClick={() => {\r\n                                    let categoriesView = addWindow(\r\n                                        <div className=\"default-view\">\r\n                                            <Link to=\"/admin/category/add\" className='btn btn-primary btn-sm' children='Thêm thể loại' />\r\n                                            <ListSelect\r\n                                                getData={async () => { return (await CategoryAPI.getAllCategory({ unlimited: true })).data }}\r\n                                                viewData={(data: CategoryAPIResult) => {\r\n                                                    return [\r\n                                                        <td>{data.categoryCode}</td>,\r\n                                                        <td>{data.category}</td>\r\n                                                    ]\r\n                                                }}\r\n                                                typeSearch={[\r\n                                                    { propertySearch: 'categoryCode', viewSearch: 'Mã thể loại' },\r\n                                                    { propertySearch: 'category', viewSearch: 'Thể loại' }\r\n                                                ]}\r\n                                                header={[<th>Mã thể loại</th>, <th>Thể loại</th>]}\r\n                                                getKey={(data: CategoryAPIResult) => { return data.id }}\r\n                                                onComplete={(categories) => {\r\n                                                    console.log(categories);\r\n                                                    removeWindow(categoriesView as any);\r\n                                                    this.setState({ categories: categories });\r\n                                                }}\r\n                                                valueSelected={this.state.categories}\r\n                                            />\r\n                                        </div>)\r\n                                }} >Thể loại</Button>\r\n                        }}\r\n                    </AdminOverrideWindow.Consumer>\r\n                </div>\r\n            ),\r\n            authors: (\r\n                <div className=\"d-flex space-nm align-items-end\">\r\n                    <WInput title_input=\"Tác giả\" readOnly required is_invalid={Object.keys(this.state.authors).length === 0}\r\n                        value={Object.entries(this.state.authors)\r\n                            .map(([id, author]) => {\r\n                                return (author as AuthorAPIResult).name;\r\n                            }).join(', ')} />\r\n                    <AdminOverrideWindow.Consumer>\r\n                        {({ addWindow, removeWindow }) => {\r\n                            return <Button color=\"primary\" size=\"sm\" style={{ whiteSpace: 'nowrap' }}\r\n                                onClick={() => {\r\n                                    let authorView = addWindow(\r\n                                        <div className=\"default-view\">\r\n                                            <Link to=\"/admin/author/add\" className='btn btn-primary btn-sm' children='Thêm tác giả' />\r\n                                            <ListSelect\r\n                                                getData={async () => { return (await AuthorAPI.getAll({ unlimited: true })).data }}\r\n                                                viewData={(data: AuthorAPIResult) => {\r\n                                                    return [\r\n                                                        <td>{data.authorCode}</td>,\r\n                                                        <td>{data.name}</td>\r\n                                                    ]\r\n                                                }}\r\n                                                typeSearch={[\r\n                                                    { propertySearch: 'authorCode', viewSearch: 'Mã Tác giả' },\r\n                                                    { propertySearch: 'name', viewSearch: 'Tên Tác giả' }\r\n                                                ]}\r\n                                                header={[<th>Mã tác giả</th>, <th>Tên tác giả</th>]}\r\n                                                getKey={(data: any) => { return data.id }}\r\n                                                onComplete={(authors) => {\r\n                                                    console.log(authors);\r\n                                                    removeWindow(authorView as any);\r\n                                                    this.setState({ authors: authors });\r\n                                                }}\r\n                                                valueSelected={this.state.authors}\r\n                                            />\r\n                                        </div>)\r\n                                }} >Tác giả</Button>\r\n                        }}\r\n                    </AdminOverrideWindow.Consumer>\r\n                </div>\r\n            )\r\n        }\r\n        return <div className={`form-container ${this.state.isDisable && 'disabled'}`}>\r\n            <AdminMessageRequest ref={this.messageRequest} />\r\n            <WForm className={this.state.isDisable ? 'disabled' : ''} onSubmit={this.onSubmit.bind(this)} ref={this.form as any}>\r\n                <Container fluid={true} className=\"p-0\">\r\n                    <Row>\r\n                        <Col xs={12}>\r\n                            <div className=\"d-flex justify-content-between\">\r\n                                <h2>Thêm Sách</h2>\r\n                                <img className=\"avatar\" title=\"Ảnh bìa sách\"\r\n                                    style={{ borderRadius: 0 }}\r\n                                    src={process.env.REACT_APP_BOOK_IMAGE_PATH + 'default.jpg'}\r\n                                    alt=\"default\" ref={this.bookImageView}\r\n                                    onClick={() => { this.bookImageInput.current?.click(); }}\r\n                                ></img>\r\n                            </div>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <WInput name=\"title\" title_input=\"Tên sách\" required />\r\n                        </Col>\r\n                        <Col md={6} sm={12}>\r\n                            <WInput title_input=\"isbn\" name=\"isbn\" required />\r\n                        </Col>\r\n                        <Col md={6} sm={12}>\r\n                            <WInput name=\"pageNumber\" title_input=\"Số trang\" type=\"number\" required />\r\n                        </Col>\r\n                        <Col md={6} sm={12}>\r\n                            <WInput name=\"edition\" title_input=\"Tái bản\" type=\"number\" required />\r\n                        </Col>\r\n                        <Col md={6} sm={12}>\r\n                            <WInput name=\"price\" title_input=\"Giá\" type=\"number\" required />\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <WInputOther title_input=\"Nhà xuất bản\">\r\n                                <select name=\"publisher\">\r\n                                    {this.state.publishers.map((publisher, index) => {\r\n                                        return <option value={publisher.id}>{publisher.name}</option>\r\n                                    })}\r\n                                </select>\r\n                            </WInputOther>\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            {inputList.authors}\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            {inputList.categories}\r\n                        </Col>\r\n                        <Col xs={12}>\r\n                            <WInputOther title_input=\"Mô tả\">\r\n                                <textarea name=\"description\" rows={4} required></textarea>\r\n                            </WInputOther>\r\n                        </Col>\r\n                        <Col>\r\n                            <div className=\"d-flex space-sm\">\r\n                                <Button color=\"primary\" size=\"sm\">Thêm Sách</Button>\r\n                                <Link to=\"/admin/books\" className=\"btn btn-danger btn-sm\">Quay về</Link>\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </WForm>\r\n        </div >\r\n    }\r\n}\r\n","import axiosClient from \"../axiosCient\";\r\nimport { APIResult } from \"../declare\";\r\n\r\nconst GroupPermissionAPI = {\r\n    getAllGroup: (pageInfo: { page: number, limit: number, isUnlimited: boolean }): Promise<APIResult<GroupPermissionAPIResult>> => {\r\n        return axiosClient.get('/admin/groups', { params: pageInfo });\r\n    },\r\n    addGroup: (data: GroupPermissionDTO) => {\r\n        return axiosClient.post('/admin/group', data);\r\n    },\r\n    deleteGroups: (ids: number[]) => {\r\n        return axiosClient.delete('/admin/groups', { data: { ids: ids } });\r\n    },\r\n    getGroup: (id: number): Promise<APIResult<GroupPermissionAPIResult>> => {\r\n        return axiosClient.get('/admin/group', { params: { id: id } });\r\n    },\r\n    updateGroup: (data: GroupPermissionDTO) => {\r\n        console.log(data);\r\n        return axiosClient.put('/admin/group', data);\r\n    },\r\n    updateAdminPermissions: (data: {groupId: number, permissionIds: number[]}) => {\r\n        return axiosClient.put('/admin/group/permissions', data);\r\n    },\r\n    getAllPermissionInGroup(id: number) {\r\n        return axiosClient.get('/admin/group/permissions', { params: { id: id } });\r\n    }\r\n}\r\nexport default GroupPermissionAPI;\r\n\r\nexport interface GroupPermissionAPIResult {\r\n    createBy: string,\r\n    name: string,\r\n    modifiedDate: string,\r\n    description: string,\r\n    modifiedBy: string,\r\n    id: number,\r\n    groupCode: string,\r\n    createDate: string,\r\n}\r\n\r\nexport interface GroupPermissionDTO {\r\n    id: number,\r\n    groupCode: string,\r\n    description: string,\r\n    name: string,\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport BookAPI, { BookAPIResult } from \"../../../api/admin/book-api\";\r\nimport GroupPermissionAPI, { GroupPermissionAPIResult } from \"../../../api/admin/group-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport ImageError from \"../../../components/image-error\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WTable from \"../../../components/wtable\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AddSVG from \"../../../logo-svg/add\";\r\nimport CancelSVG from \"../../../logo-svg/cancel\";\r\nimport EditSVG from \"../../../logo-svg/edit\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface ViewBookState {\r\n    action: undefined | 'view-detail-page',\r\n    isSelectedAll: boolean,\r\n}\r\n\r\nexport default class ViewBook extends React.Component<any, ViewBookState>{\r\n    tableRef = React.createRef<WTable>();\r\n    requestMessage = React.createRef<AdminMessageRequest>();\r\n    firstNumOfKey: number = 0;\r\n    idsSelected: number[] = [];\r\n    page: number = 0;\r\n    limit: number = 0;\r\n    idSelected: number = 0;\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"main-view\">\r\n                {\r\n                    this.state.action === 'view-detail-page'\r\n                }\r\n                <div style={this.state.action === undefined ? undefined : { display: 'none' }}>\r\n                    <AdminMessageRequest ref={this.requestMessage} />\r\n                    <div className=\"d-flex f-bar space-sm\">\r\n                        <Link to=\"/admin/book/add\" className=\"btn btn-primary btn-sm\"> <AddSVG className=\"icon\" color=\"white\" /> <span>Thêm Sách</span> </Link>\r\n                        <Button color=\"danger\" size=\"sm\" onClick={this.deleteIdsSelected.bind(this)}> <CancelSVG className=\"icon\" color=\"white\" /> <span>Xóa</span> </Button>\r\n                    </div>\r\n                    <WTable ref={this.tableRef} getPage={this.getPage.bind(this)}\r\n                        fillData={this.fillData.bind(this)}\r\n                        headers={[\r\n                            '#',\r\n                            <WCheckBox className=\"cc\" checked={this.state.isSelectedAll} onChange={(evt) => {\r\n                                let isSelectedAll = evt.currentTarget.checked;\r\n                                this.setState({ isSelectedAll: isSelectedAll });\r\n                                $('tr > td:nth-child(2) > .id-checkbox > input[type=\"checkbox\"]', this.tableRef.current?.tableBody.current)\r\n                                    .each((index, e: any) => {\r\n                                        e.checked !== isSelectedAll && e.click();\r\n                                    });\r\n                            }} />,\r\n                            'Sách',\r\n                            'Tên sách',\r\n                            'ISBN',\r\n                            'Tác giả',\r\n                            'Thể loại',\r\n                            'Cập nhật',\r\n                            'Số lượng',\r\n                            < div className=\"text-center\" > Chi tiết</div>\r\n                        ]}\r\n                        limit={this.limit}\r\n                        page={this.page}\r\n                        onPageChangeEvent={(evt) => {\r\n                            if (evt.limitChange !== this.limit || evt.pageChange !== this.page) {\r\n                                this.page = evt.pageChange;\r\n                                this.limit = evt.limitChange;\r\n                                window.history.pushState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            } else {\r\n                                window.history.replaceState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            }\r\n                        }} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.firstNumOfKey = 0;\r\n        let { page, limit } = Utils.getPageRequest();\r\n        this.page = page; this.limit = limit;\r\n        this.state = {\r\n            action: undefined,\r\n            isSelectedAll: false,\r\n        }\r\n    }\r\n    async deleteIdsSelected() {\r\n        let result = await this.requestMessage.current?.sendRequest(() => { return GroupPermissionAPI.deleteGroups(this.idsSelected) });\r\n        if (result) {\r\n            this.tableRef.current?.reloadPage();\r\n        }\r\n    }\r\n    showDetailPage(id: number) {\r\n        this.idSelected = id;\r\n        this.setState({ action: 'view-detail-page' });\r\n    }\r\n    fillData(data: BookAPIResult, index?: number | undefined) {\r\n        return <tr key={`${this.firstNumOfKey}${index}`} onClick={\r\n            (evt) => {\r\n                let checkbox = $('.id-checkbox', evt.currentTarget)[0];\r\n                if ($(checkbox).find(evt.target as any).length === 0 && checkbox !== evt.target) {\r\n                    checkbox.click();\r\n                }\r\n            }\r\n        }>\r\n            <td>{index}</td>\r\n            <td><WCheckBox className=\"id-checkbox\" onChange={(evt) => {\r\n                let index = this.idsSelected.indexOf(data?.id as number);\r\n                if (index !== -1) this.idsSelected.splice(index, 1);\r\n                evt.currentTarget.checked && this.idsSelected.push(data?.id as number);\r\n            }} checked={this.state.isSelectedAll} /></td>\r\n            <td><ImageError className=\"no-round\"\r\n                src={`${process.env.REACT_APP_BOOK_IMAGE_PATH}${data.id}.jpg`}\r\n                err-src={`${process.env.REACT_APP_BOOK_IMAGE_PATH}default.jpg`} /></td>\r\n            <td>{data.title}</td>\r\n            <td>{data.isbn}</td>\r\n            <td>{data.authors?.map((item) => { return item.name }).join(', ')}</td>\r\n            <td>{data.categories?.map((item) => { return item.category }).join(', ')}</td>\r\n            <td title={`Cập nhât: ${data.modifiedBy} - ${moment(data.modifiedDate).calendar()}\\nKhởi tạo: ${data.createBy} - ${moment(data.createDate).calendar()}`\r\n            }>{data.modifiedBy}</td>\r\n            <td>{data.quantity}</td>\r\n            <td className=\"text-center\">\r\n                <Button color=\"primary\" size=\"sm\" onClick={() => { this.showDetailPage(data.id as number) }}>\r\n                    <EditSVG color=\"white\" className=\"icon\" />\r\n                </Button></td>\r\n        </tr >;\r\n    }\r\n    componentDidMount() {\r\n        window.history.replaceState('', '', `/admin/books?page=${this.page}&limit=${this.limit}`);\r\n        this.tableRef.current?.getPage(this.page, this.limit);\r\n    }\r\n    async getPage(page: number, limit: number): Promise<any> {\r\n        this.firstNumOfKey = (!this.firstNumOfKey as any + 0);\r\n        let data = await this.requestMessage.current\r\n            ?.sendRequest(\r\n                () => { return BookAPI.getBooks({ page: page, limit: limit, unlimited: false }) },\r\n                { hideWhenDone: true, hideWaiting: true, getFailed: true }\r\n            );\r\n        this.idsSelected = [];\r\n        if (data !== undefined) {\r\n            if (data.message.code === 0) {\r\n                return {\r\n                    data: data.data,\r\n                    limit: Number(limit),\r\n                    offset: data.message.data.offset,\r\n                    page: data.message.data.page,\r\n                    totalPage: data.message.data.totalPage,\r\n                    totalRecord: data.message.data.totalRecord\r\n                };\r\n            } else if (data.message.code === SYSTEM_CONSTANTS.ERROR_REQUEST.PAGE_OUT_INDEX) {\r\n                return await (this.getPage(data.message.data.totalPage, limit));\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport GroupPermissionAPI from \"../../../api/admin/group-api\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\n\r\ninterface AdminGroupPermissionState {\r\n    isValidInput: {\r\n        groupCode: boolean\r\n    },\r\n    isDisable: boolean,\r\n}\r\n\r\nexport default class AddGroupPermission extends React.Component<any, AdminGroupPermissionState> {\r\n    form = React.createRef<WForm>();\r\n    messageRequest: React.RefObject<AdminMessageRequest> = React.createRef();\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            isDisable: false,\r\n            isValidInput: {\r\n                groupCode: true\r\n            }\r\n        }\r\n    }\r\n    onSubmit(evt: any) {\r\n        evt.preventDefault();\r\n        console.log(this.form.current?.getData());\r\n        this.messageRequest.current?.sendRequest(() => { return GroupPermissionAPI.addGroup(this.form.current?.getData() as any) });\r\n    }\r\n    render() {\r\n        let { isValidInput } = this.state;\r\n        return <div className=\"form-container\">\r\n            <AdminMessageRequest ref={this.messageRequest} />\r\n            <WForm className={this.state.isDisable ? 'disabled' : ''} onSubmit={this.onSubmit.bind(this)} ref={this.form as any}>\r\n                <h2>Thêm nhóm</h2>\r\n                <WInput title_input=\"Mã nhóm\" name=\"groupCode\" is_invalid={!this.state.isValidInput.groupCode} required onChange={(evt) => {\r\n                    this.setState({ isValidInput: { ...isValidInput, groupCode: evt.currentTarget.value.match(SYSTEM_CONSTANTS.REGEX.code) !== null } })\r\n                }} />\r\n                <WInput title_input=\"Tên nhóm\" name=\"name\" required/>\r\n                <WInputOther title_input=\"Mô tả\" >\r\n                    <textarea name=\"description\" rows={4}></textarea>\r\n                </WInputOther>\r\n                <br />\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" size=\"sm\">Thêm nhóm</Button>\r\n                    <Link to=\"/admin/groups\" className=\"btn btn-danger btn-sm\">Quay về</Link>\r\n                </div>\r\n            </WForm>\r\n        </div>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport GroupPermissionAPI, { GroupPermissionAPIResult } from \"../../../api/admin/group-api\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface UpdateGroupInfoProps {\r\n    groupInfo: GroupPermissionAPIResult,\r\n    adminMessageRequest: AdminMessageRequest,\r\n    onUpdateSuccess?: () => any\r\n}\r\ninterface UpdateGroupInfoState {\r\n    isValidInput: any\r\n}\r\nexport default class UpdateGroupInfo extends React.Component<UpdateGroupInfoProps, UpdateGroupInfoState>{\r\n    private form: React.RefObject<WForm> = React.createRef();\r\n\r\n    constructor(props: UpdateGroupInfoProps) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        this.form.current?.setData({ ... this.props.groupInfo });\r\n    }\r\n    update(evt: any) {\r\n        evt.preventDefault();\r\n        let data = this.form.current?.getData();\r\n        this.props.adminMessageRequest.sendRequest(() => { return GroupPermissionAPI.updateGroup(data) })\r\n            .then((result) => { result !== undefined && this.props.onUpdateSuccess && this.props.onUpdateSuccess() });\r\n    }\r\n    render() {\r\n        return (\r\n            <WForm ref={this.form as any} onSubmit={this.update.bind(this)}>\r\n                <h2>Cập nhật nhóm CN {this.props.groupInfo.name}</h2>\r\n                <input type=\"hidden\" value={this.props.groupInfo.id} name=\"id\"/>\r\n                <WInput title_input=\"Tên nhóm\" name=\"name\" required />\r\n                <WInputOther title_input=\"Mô tả\" >\r\n                    <textarea name=\"description\" rows={4}></textarea>\r\n                </WInputOther>\r\n                <br />\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" size=\"sm\">Cập nhật</Button>\r\n                    <Button color=\"danger\" size=\"sm\" onClick={\r\n                        () => {\r\n                            this.form.current?.setData(this.props.groupInfo);\r\n                        }\r\n                    }>Xóa</Button>\r\n                </div>\r\n            </WForm >\r\n        )\r\n    }\r\n} ","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport { AdminPermissionsResult } from \"../../../api/admin/admin-api\";\r\nimport GroupPermissionAPI from \"../../../api/admin/group-api\";\r\nimport PermissionAPI, { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport ReloadSVG from \"../../../logo-svg/reload\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface UpdateGroupPermissionProps {\r\n    id: number | string,\r\n    adminMessageRequest: AdminMessageRequest\r\n}\r\n\r\ninterface UpdateGroupPermissionState {\r\n    justShowSelected: boolean,\r\n    isWaiting: boolean,\r\n    permissions: AdminPermissionsResult[],\r\n    filter: any,\r\n}\r\n\r\nexport default class UpdateGroupPermission extends React.Component<UpdateGroupPermissionProps, UpdateGroupPermissionState> {\r\n    refComponent = {\r\n        typeSearch: React.createRef<HTMLSelectElement>(),\r\n        searchValue: React.createRef<HTMLInputElement>(),\r\n    }\r\n    searchValue: string = '';\r\n    permissionSelected: Set<any> = new Set([]);\r\n    constructor(props: UpdateGroupPermissionProps) {\r\n        super(props);\r\n        this.state = {\r\n            justShowSelected: false,\r\n            isWaiting: false,\r\n            permissions: [],\r\n            filter: undefined\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getAllPermission();\r\n    }\r\n    findPermission() {\r\n        this.searchValue = (this.refComponent.searchValue.current as any).input.current.value.trim();\r\n        let typeSearch = this.refComponent.typeSearch.current?.value;\r\n        if (this.searchValue) {\r\n            switch (typeSearch) {\r\n                case 'method':\r\n                    this.setState({\r\n                        filter: {\r\n                            data: this.searchValue.toLowerCase(),\r\n                            filter: function (per: PermissionAPIResult) { return per.method?.toLowerCase() == this.data; }\r\n                        }\r\n                    });\r\n                    break;\r\n                default:\r\n                    this.setState({\r\n                        filter: Utils.filterString(this.searchValue, (per) => { return per[typeSearch as string] })\r\n                    })\r\n            }\r\n        } else {\r\n            this.setState({ filter: undefined });\r\n        }\r\n    }\r\n    async updatePermissions() {\r\n        let permissionIds = new Array(this.permissionSelected.size);\r\n        let index = 0;\r\n        for (let value of this.permissionSelected as any) {\r\n            permissionIds[index++] = value;\r\n        }\r\n        this.props.adminMessageRequest.sendRequest(() => {\r\n            return GroupPermissionAPI.updateAdminPermissions({groupId: this.props.id as number, permissionIds: permissionIds});\r\n        })\r\n    }\r\n    async getAllPermission() {\r\n        let result = await this.props.adminMessageRequest.sendRequest(() => {\r\n            return GroupPermissionAPI.getAllPermissionInGroup(this.props.id as number);\r\n        }, { hideWhenDone: true });\r\n        this.permissionSelected.clear();\r\n        if (result !== undefined) {\r\n            this.setState({ permissions: result.data as any });\r\n        }\r\n    }\r\n    render() {\r\n        let { isWaiting, filter } = this.state;\r\n        return <div>\r\n            <style children={\r\n                [\r\n                    '.table th:nth-child(1), .table td:nth-child(1){text-align: center}',\r\n                    '.table td:nth-child(2) > label, .table th:nth-child(2) > label{ margin: auto}'\r\n                ]} />\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" onClick={this.getAllPermission.bind(this)} title=\"reload\" size=\"sm\">\r\n                        <ReloadSVG color=\"white\" className={'icon' + (isWaiting ? 'spin' : '')} />\r\n                    </Button>\r\n                    <Button onClick={this.updatePermissions.bind(this)} color=\"primary\" size=\"sm\" children=\"Cập nhật\" />\r\n                </div>\r\n                <div className=\"d-flex space-sm\">\r\n                    <WInput title_input=\"Tìm kiếm\" onChange={this.findPermission.bind(this)} ref={this.refComponent.searchValue as any} />\r\n                    <WInputOther title_input=\"Loại\">\r\n                        <select ref={this.refComponent.typeSearch} onChange={this.findPermission.bind(this)}>\r\n                            <option value=\"code\">Mã chức năng</option>\r\n                            <option value=\"api\">Đường dẫn</option>\r\n                            <option value=\"method\">Phương thức</option>\r\n                            <option value=\"name\">Tên chức năng</option>\r\n                        </select>\r\n                    </WInputOther>\r\n                </div>\r\n            </div>\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>#</th>\r\n                        <th>\r\n                            <WCheckBox checked={this.state.justShowSelected} onChange={(evt) => { this.setState({ justShowSelected: evt.currentTarget.checked }) }} />\r\n                        </th>\r\n                        <th>Mã CN</th>\r\n                        <th>Tên CN</th>\r\n                        <th>API</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        this.state.permissions.map((permission, index) => {\r\n                            let permissionExits: boolean;\r\n                            if (permission.isAllow) {\r\n                                this.permissionSelected.add(permission.id);\r\n                                permissionExits = true;\r\n                            } else {\r\n                                permissionExits = this.permissionSelected.has(permission.id);\r\n                            }\r\n                            if (\r\n                                (!this.state.justShowSelected || permissionExits)\r\n                                && (filter ? filter.filter(permission) : true)\r\n                            ) {\r\n                                return <tr key={index}>\r\n                                    <td>{index + 1}</td>\r\n                                    <td>\r\n                                        <WCheckBox onChange={(evt) => {\r\n                                            let checked = evt.currentTarget.checked;\r\n                                            if (checked) {\r\n                                                this.permissionSelected.add(permission.id);\r\n                                                permission.isAllow = true;\r\n                                            } else {\r\n                                                this.permissionSelected.delete(permission.id);\r\n                                                permission.isAllow = false;\r\n                                            }\r\n                                        }} checked={permissionExits} />\r\n                                    </td>\r\n                                    <td>{permission.code}</td>\r\n                                    <td>{permission.name}</td>\r\n                                    <td>{permission.api}{' => '}{permission.method}</td>\r\n                                </tr>\r\n                            }\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    }\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport GroupPermissionAPI, { GroupPermissionAPIResult } from \"../../../api/admin/group-api\";\r\nimport PermissionAPI, { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport UpdateGroupInfo from \"./update-group\";\r\nimport UpdateGroupPermission from \"./update-group-permissions\";\r\n\r\ninterface DetailGroupPermissionProps {\r\n    goBack?: {\r\n        action: () => any,\r\n        id: number | string,\r\n        oldLocation: string\r\n    },\r\n}\r\ninterface DetailGroupPermissionState {\r\n    groupInfo: GroupPermissionAPIResult,\r\n    viewAction: 'view-info' | 'update-group' | 'update-permissions',\r\n    isDisable: boolean,\r\n    isNotFoundResult: boolean,\r\n    nextUpdate: boolean\r\n}\r\nexport default class DetailGroupPermission extends React.Component<DetailGroupPermissionProps, DetailGroupPermissionState>{\r\n    adminMessageRequest: React.RefObject<AdminMessageRequest> = React.createRef();\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            groupInfo: {} as any,\r\n            isDisable: false,\r\n            isNotFoundResult: false,\r\n            nextUpdate: false,\r\n            viewAction: 'view-info'\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getGroup();\r\n    }\r\n    menuClickEvent(evt: React.MouseEvent<HTMLLIElement, MouseEvent>) {\r\n        let target = evt.currentTarget;\r\n        this.setState({ viewAction: target.getAttribute('view-action') as any });\r\n        this.adminMessageRequest.current?.closeMessage();\r\n    }\r\n    async componentDidUpdate() {\r\n        if (this.state.nextUpdate && this.state.viewAction === 'view-info') {\r\n            await this.setState({ nextUpdate: false });\r\n            this.getGroup();\r\n        }\r\n    }\r\n    render() {\r\n        let { viewAction, groupInfo } = this.state;\r\n        let btnGoBack = this.props.goBack\r\n            ? <div onClick={\r\n                () => { window.history.replaceState('', '', this.props.goBack?.oldLocation); this.props.goBack?.action(); }\r\n            }> Trở về</div >\r\n            : <Link to=\"/admin/groups\">Trở về</Link>;\r\n        return (\r\n            <div className={`menu-select-layout ${this.state.isDisable ? 'disabled' : ''}`} style={{ height: '100%' }}>\r\n                <div className=\"menu-select\">\r\n                    <ul>\r\n                        <li className=\"bg-danger text-white\"\r\n                            onClick={(evt) => {\r\n                                let firstChild = evt.currentTarget.firstChild; firstChild && (firstChild as any).click();\r\n                            }}>{btnGoBack}</li>\r\n                        <li className={viewAction === 'view-info' ? 'active' : ''} view-action=\"view-info\" onClick={this.menuClickEvent.bind(this)}>Xem thông tin</li>\r\n                        <li className={viewAction === 'update-group' ? 'active' : ''} view-action=\"update-group\" onClick={this.menuClickEvent.bind(this)}>Cập nhật thông tin</li>\r\n                        <li className={viewAction === 'update-permissions' ? 'active' : ''} view-action=\"update-permissions\" onClick={this.menuClickEvent.bind(this)}>Cập nhật chức năng</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"child-content\">\r\n                    <div className={`form-container`}>\r\n                        <AdminMessageRequest ref={this.adminMessageRequest} />\r\n                        {\r\n                            !this.state.isNotFoundResult ? (\r\n                                <div>\r\n                                    { viewAction === \"view-info\"\r\n                                        && <div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <h2>Thông tin nhóm năng {this.state.groupInfo.name}</h2>\r\n                                            </div>\r\n                                            <br />\r\n                                            <table className=\"table wtable-info\">\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td>ID</td>\r\n                                                        <td>{groupInfo.id}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Mã Nhóm</td>\r\n                                                        <td>{groupInfo.groupCode}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Tên nhóm</td>\r\n                                                        <td>{groupInfo.name}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Khởi tạo</td>\r\n                                                        <td><Link to={`/admin/admin-user/detail?adminCode=${groupInfo.modifiedBy}`}>{groupInfo.modifiedBy}</Link> - {moment(groupInfo.modifiedDate).calendar()}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật</td>\r\n                                                        <td><Link to={`/admin/admin-user/detail?adminCode=${groupInfo.createBy}`}>{groupInfo.createBy}</Link> - {moment(groupInfo.createDate).calendar()}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Mô tả</td>\r\n                                                        <td>{groupInfo.description}</td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    }\r\n                                    { viewAction === 'update-group' && <UpdateGroupInfo\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                        groupInfo={this.state.groupInfo}\r\n                                        onUpdateSuccess={() => { this.setState({ nextUpdate: true }) }}\r\n                                    />}\r\n                                    { viewAction === 'update-permissions' && <UpdateGroupPermission\r\n                                        id={this.state.groupInfo.id}\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any} />}\r\n                                </div>\r\n                            ) : <div className=\"d-flex space-sm\">\r\n                                    <Button color=\"primary\" size=\"sm\" onClick={this.getGroup.bind(this)}>Tải lại</Button>\r\n                                    {btnGoBack}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    async getGroup() {\r\n        await this.setState({ isDisable: true });\r\n        let id = new URLSearchParams(window.location.search).get(\"id\") || (this.props.goBack && this.props.goBack.id);\r\n        if (!id) {\r\n            this.setState({ isNotFoundResult: false, isDisable: false }); return;\r\n        }\r\n\r\n        window.history.replaceState('', '', `/admin/group/detail?id=${id}`);\r\n\r\n        let resultReq = await this.adminMessageRequest.current?.sendRequest(() => { return GroupPermissionAPI.getGroup(id as any) }, { hideWhenDone: true });\r\n\r\n        if (resultReq) {\r\n            let groupInfo = resultReq.data;\r\n            await this.setState({ groupInfo: groupInfo, isDisable: false });\r\n        } else {\r\n            this.setState({ isNotFoundResult: true, isDisable: false });\r\n        };\r\n    }\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport GroupPermissionAPI, { GroupPermissionAPIResult } from \"../../../api/admin/group-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WTable from \"../../../components/wtable\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AddSVG from \"../../../logo-svg/add\";\r\nimport CancelSVG from \"../../../logo-svg/cancel\";\r\nimport EditSVG from \"../../../logo-svg/edit\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport DetailGroupPermission from \"./detail-group-permission\";\r\n\r\ninterface ViewGroupPermissionState {\r\n    action: undefined | 'view-detail-page',\r\n    isSelectedAll: boolean,\r\n}\r\n\r\nexport default class ViewGroupPermission extends React.Component<any, ViewGroupPermissionState>{\r\n    tableRef = React.createRef<WTable>();\r\n    requestMessage = React.createRef<AdminMessageRequest>();\r\n    firstNumOfKey: number = 0;\r\n    idsSelected: number[] = [];\r\n    page: number = 0;\r\n    limit: number = 0;\r\n    idSelected: number = 0;\r\n    render() {\r\n        return (\r\n            <div id=\"main-view\">\r\n                {\r\n                    this.state.action === 'view-detail-page' && <DetailGroupPermission goBack={{\r\n                        action: ()=>{this.setState({action: undefined})},\r\n                        id: this.idSelected,\r\n                        oldLocation: window.location.href\r\n                    }}/>\r\n                }\r\n                <div style={this.state.action === undefined ? undefined : { display: 'none' }}>\r\n                    <AdminMessageRequest ref={this.requestMessage} />\r\n                    <div className=\"d-flex f-bar space-sm\">\r\n                        <Link to=\"/admin/group/add\" className=\"btn btn-primary btn-sm\"> <AddSVG className=\"icon\" color=\"white\" /> <span>Thêm Nhóm</span> </Link>\r\n                        <Button color=\"danger\" size=\"sm\" onClick={this.deleteIdsSelected.bind(this)}> <CancelSVG className=\"icon\" color=\"white\" /> <span>Xóa</span> </Button>\r\n                    </div>\r\n                    <WTable ref={this.tableRef} getPage={this.getPage.bind(this)}\r\n                        fillData={this.fillData.bind(this)}\r\n                        headers={[\r\n                            '#',\r\n                            <WCheckBox className=\"cc\" checked={this.state.isSelectedAll} onChange={(evt) => {\r\n                                let isSelectedAll = evt.currentTarget.checked;\r\n                                this.setState({ isSelectedAll: isSelectedAll });\r\n                                $('tr > td:nth-child(2) > .id-checkbox > input[type=\"checkbox\"]', this.tableRef.current?.tableBody.current)\r\n                                    .each((index, e: any) => {\r\n                                        e.checked !== isSelectedAll && e.click();\r\n                                    });\r\n                            }} />,\r\n                            'Tên Nhóm',\r\n                            'Mã nhóm',\r\n                            'Cập nhật',\r\n                            <div className=\"text-center\">Chi tiết</div>\r\n                        ]}\r\n                        limit={this.limit}\r\n                        page={this.page}\r\n                        onPageChangeEvent={(evt) => {\r\n                            if (evt.limitChange !== this.limit || evt.pageChange !== this.page) {\r\n                                this.page = evt.pageChange;\r\n                                this.limit = evt.limitChange;\r\n                                window.history.pushState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            } else {\r\n                                window.history.replaceState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            }\r\n                        }} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.firstNumOfKey = 0;\r\n        let { page, limit } = Utils.getPageRequest();\r\n        this.page = page; this.limit = limit;\r\n        this.state = {\r\n            action: undefined,\r\n            isSelectedAll: false,\r\n        }\r\n    }\r\n    async deleteIdsSelected() {\r\n        let result = await this.requestMessage.current?.sendRequest(() => { return GroupPermissionAPI.deleteGroups(this.idsSelected) });\r\n        if (result) {\r\n            this.tableRef.current?.reloadPage();\r\n        }\r\n    }\r\n    showDetailPage(id: number) {\r\n        this.idSelected = id;\r\n        this.setState({ action: 'view-detail-page' });\r\n    }\r\n    fillData(data: GroupPermissionAPIResult, index?: number | undefined) {\r\n        return <tr key={`${this.firstNumOfKey}${index}`} onClick={\r\n            (evt) => {\r\n                let checkbox = $('.id-checkbox', evt.currentTarget)[0];\r\n                if ($(checkbox).find(evt.target as any).length === 0 && checkbox !== evt.target) {\r\n                    checkbox.click();\r\n                }\r\n            }\r\n        }>\r\n            <td>{index}</td>\r\n            <td><WCheckBox className=\"id-checkbox\" onChange={(evt) => {\r\n                let index = this.idsSelected.indexOf(data.id);\r\n                if (index !== -1) this.idsSelected.splice(index, 1);\r\n                evt.currentTarget.checked && this.idsSelected.push(data?.id);\r\n            }} checked={this.state.isSelectedAll} /></td>\r\n            <td>{data.name}</td>\r\n            <td>{data.groupCode}</td>\r\n            <td title={`Cập nhât: ${data.modifiedBy} - ${moment(data.modifiedDate).calendar()}\\nKhởi tạo: ${data.createBy} - ${moment(data.createDate).calendar()}`\r\n            }>{data.modifiedBy}</td>\r\n            <td className=\"text-center\">\r\n                <Button color=\"primary\" size=\"sm\" onClick={() => { this.showDetailPage(data.id) }}>\r\n                    <EditSVG color=\"white\" className=\"icon\" />\r\n                </Button></td>\r\n        </tr >;\r\n    }\r\n    componentDidMount() {\r\n        window.history.replaceState('', '', `/admin/groups?page=${this.page}&limit=${this.limit}`);\r\n        this.tableRef.current?.getPage(this.page, this.limit);\r\n    }\r\n    async getPage(page: number, limit: number): Promise<any> {\r\n        this.firstNumOfKey = (!this.firstNumOfKey as any + 0);\r\n        let data = await this.requestMessage.current\r\n            ?.sendRequest(\r\n                () => { return GroupPermissionAPI.getAllGroup({ page: page, limit: limit, isUnlimited: false }) },\r\n                { hideWhenDone: true, hideWaiting: true, getFailed: true }\r\n            );\r\n        this.idsSelected = [];\r\n        if (data !== undefined) {\r\n            if (data.message.code === 0) {\r\n                return {\r\n                    data: data.data,\r\n                    limit: Number(limit),\r\n                    offset: data.message.data.offset,\r\n                    page: data.message.data.page,\r\n                    totalPage: data.message.data.totalPage,\r\n                    totalRecord: data.message.data.totalRecord\r\n                };\r\n            } else if (data.message.code === SYSTEM_CONSTANTS.ERROR_REQUEST.PAGE_OUT_INDEX) {\r\n                return await (this.getPage(data.message.data.totalPage, limit));\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}","import axiosClient from \"../axiosCient\";\r\nimport { APIResult } from \"../declare\";\r\n\r\nconst PermissionAPI = {\r\n    getAllPermission: (data: { page?: number, limit?: number, isUnlimited?: boolean }): Promise<APIResult<PermissionAPIResult>> => {\r\n        return axiosClient.get('/admin/permissions', { params: data });\r\n    },\r\n    addPermission: (data: PermissionDTO): Promise<APIResult> => {\r\n        return axiosClient.post('/admin/permission', data);\r\n    },\r\n    deletePermissions: (ids: (string | number)[]): Promise<APIResult> => {\r\n        console.log(ids)\r\n        return axiosClient.delete('/admin/permissions', { data: { ids: ids } });\r\n    },\r\n    getPermission: (id: number | string): Promise<APIResult<PermissionAPIResult>> => {\r\n        return axiosClient.get('/admin/permission', { params: { id: id } });\r\n    },\r\n    updatePermission: (data: PermissionDTO)=>{\r\n        return axiosClient.put('/admin/permission', data);\r\n    }\r\n}\r\n\r\nexport default PermissionAPI;\r\n\r\nexport interface PermissionAPIResult {\r\n    createBy: string | undefined,\r\n    code: string | undefined,\r\n    method: string | undefined,\r\n    name: string | undefined,\r\n    modifiedDate: string | undefined,\r\n    description: string | undefined,\r\n    modifiedBy: string | undefined,\r\n    api: string | undefined,\r\n    id: string & number & undefined,\r\n    createDate: string | undefined,\r\n}\r\n\r\nexport interface PermissionDTO {\r\n    id?: string | undefined,\r\n    permissionCode?: string | undefined,\r\n    description?: string | undefined,\r\n    api?: string | undefined,\r\n    name?: string | undefined,\r\n    method?: string | undefined\r\n}","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport PermissionAPI, { PermissionDTO } from \"../../../api/admin/permission-api\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface AddPermissionState {\r\n    input: PermissionDTO,\r\n    isValidInput: {\r\n        permissionCode: boolean\r\n    },\r\n    isDisable: boolean,\r\n}\r\n\r\n\r\nexport default class AddPermission extends React.Component<any, AddPermissionState>{\r\n    messageRequest: React.RefObject<AdminMessageRequest> = React.createRef();\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            isDisable: false,\r\n            input: {\r\n                permissionCode: \"ACTION_0\",\r\n                description: '.',\r\n                method: \"GET\",\r\n                api: \"/api/admin/\",\r\n                name: \"NAME_\"\r\n            },\r\n            isValidInput: {\r\n                permissionCode: true\r\n            }\r\n        }\r\n    }\r\n    static filter = {\r\n        permissionCode: (value: string) => { return value.match(SYSTEM_CONSTANTS.REGEX.code) !== null }\r\n    }\r\n    setInputOnChange(evt: React.FormEvent<any>) {\r\n        let { input, isValidInput } = this.state;\r\n        let { name, value } = evt.currentTarget;\r\n        (input as any)[name] = value;\r\n        let filter = (AddPermission.filter as any)[name];\r\n        if (filter instanceof Function) {\r\n            (isValidInput as any)[name] = filter(value);\r\n        }\r\n        this.setState({});\r\n    }\r\n    onSubmit(evt: any) {\r\n        evt.preventDefault();\r\n        this.messageRequest.current?.sendRequest(() => { return PermissionAPI.addPermission(this.state.input) });\r\n    }\r\n    render() {\r\n        let { isValidInput, input } = this.state;\r\n        return <div className=\"form-container\">\r\n            <AdminMessageRequest ref={this.messageRequest} />\r\n            <WForm className={this.state.isDisable ? 'disabled' : ''} onSubmit={this.onSubmit.bind(this)}>\r\n                <WInput title_input=\"Mã chức năng\" value={input.permissionCode} is_invalid={!isValidInput.permissionCode} name=\"permissionCode\" onChange={this.setInputOnChange.bind(this)}  required/>\r\n                <WInput title_input=\"Tên chức năng\" value={input.name} name=\"name\" onChange={this.setInputOnChange.bind(this)} required/>\r\n                <div className=\"d-flex space-nm\">\r\n                    <WInput title_input=\"Đường dẫn API\" value={input.api} name=\"api\" onChange={this.setInputOnChange.bind(this)} required/>\r\n                    <WInputOther title_input=\"Phương thức\" children={\r\n                        <select className=\"input\" value={input.method} name=\"method\" onChange={this.setInputOnChange.bind(this)}>\r\n                            <option value=\"GET\">GET</option>\r\n                            <option value=\"POST\">POST</option>\r\n                            <option value=\"PUT\">PUT</option>\r\n                            <option value=\"DELETE\">DELETE</option>\r\n                        </select>\r\n                    } />\r\n                </div>\r\n                <WInputOther title_input=\"Mô tả\">\r\n                    <textarea rows={4} value={input.description} name=\"description\" onChange={this.setInputOnChange.bind(this)} />\r\n                </WInputOther>\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" size=\"sm\">Thêm chức năng</Button>\r\n                    <Link to=\"/admin/permissions\" className=\"btn btn-danger btn-sm\">Quay về</Link>\r\n                </div>\r\n            </WForm>\r\n        </div>\r\n    }\r\n}","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport PermissionAPI, { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport WForm from \"../../../components/wform\";\r\nimport WInput, { WInputOther } from \"../../../components/winput\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\n\r\ninterface UpdatePermissionProps {\r\n    permissionInfo: PermissionAPIResult,\r\n    adminMessageRequest: AdminMessageRequest,\r\n    onUpdateSuccess?: () => any\r\n}\r\ninterface UpdatePermissionState {\r\n    inputValidPermissionCode: boolean\r\n}\r\nexport default class UpdatePermission extends React.Component<UpdatePermissionProps, UpdatePermissionState>{\r\n    private form: React.RefObject<WForm> = React.createRef();\r\n\r\n    constructor(props: UpdatePermissionProps) {\r\n        super(props);\r\n        this.state = {\r\n            inputValidPermissionCode: true,\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.form.current?.setData({ ... this.props.permissionInfo, permissionCode: this.props.permissionInfo.code });\r\n    }\r\n    update(evt: any) {\r\n        evt.preventDefault();\r\n        let data = this.form.current?.getData();\r\n        data.id = this.props.permissionInfo.id;\r\n        this.props.adminMessageRequest.sendRequest(() => { return PermissionAPI.updatePermission(data) })\r\n            .then((result) => { result !== undefined && this.props.onUpdateSuccess && this.props.onUpdateSuccess() });\r\n    }\r\n    render() {\r\n        return (\r\n            <WForm ref={this.form as any} onSubmit={this.update.bind(this)}>\r\n                <h2>Cập nhật chức năng {this.props.permissionInfo.name}</h2>\r\n                <br />\r\n                <WInput title_input=\"Tên chức năng\" name=\"name\" required/>\r\n                <div className=\"d-flex space-nm\">\r\n                    <WInput title_input=\"Đường dẫn API\" name=\"api\" required/>\r\n                    <WInputOther title_input=\"Phương thức\" children={\r\n                        <select className=\"input\" name=\"method\" >\r\n                            <option value=\"GET\">GET</option>\r\n                            <option value=\"POST\">POST</option>\r\n                            <option value=\"PUT\">PUT</option>\r\n                            <option value=\"DELETE\">DELETE</option>\r\n                        </select>\r\n                    } />\r\n                </div>\r\n                <WInputOther title_input=\"Mô tả\">\r\n                    <textarea rows={4} name=\"description\" />\r\n                </WInputOther>\r\n                <div className=\"d-flex space-sm\">\r\n                    <Button color=\"primary\" size=\"sm\">Cập nhật</Button>\r\n                    <Button color=\"danger\" size=\"sm\" onClick={\r\n                        () => { this.form.current?.setData(this.props.permissionInfo) }\r\n                    }>Xóa</Button>\r\n                </div>\r\n            </WForm>\r\n        )\r\n    }\r\n} ","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport PermissionAPI, { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport UpdatePermission from \"./update-permission\";\r\n\r\ninterface DetailPermissionProps {\r\n    goBack?: {\r\n        action: () => any,\r\n        id: number | string,\r\n        oldLocation: string\r\n    },\r\n}\r\ninterface DetailPermissionState {\r\n    permissionInfo: PermissionAPIResult,\r\n    viewAction: 'view-info' | 'update-permission' | 'change-password',\r\n    isDisable: boolean,\r\n    isNotFoundResult: boolean,\r\n    nextUpdate: boolean\r\n}\r\nexport default class DetailPermission extends React.Component<DetailPermissionProps, DetailPermissionState>{\r\n    adminMessageRequest: React.RefObject<AdminMessageRequest> = React.createRef();\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            permissionInfo: {} as any,\r\n            isDisable: false,\r\n            isNotFoundResult: false,\r\n            nextUpdate: false,\r\n            viewAction: 'view-info'\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.getPermission();\r\n    }\r\n    menuClickEvent(evt: React.MouseEvent<HTMLLIElement, MouseEvent>) {\r\n        let target = evt.currentTarget;\r\n        this.setState({ viewAction: target.getAttribute('view-action') as any });\r\n        this.adminMessageRequest.current?.closeMessage();\r\n    }\r\n    async componentDidUpdate() {\r\n        if (this.state.nextUpdate && this.state.viewAction === 'view-info') {\r\n            await this.setState({ nextUpdate: false });\r\n            this.getPermission();\r\n        }\r\n    }\r\n    render() {\r\n        let { viewAction, permissionInfo } = this.state;\r\n        let btnGoBack = this.props.goBack\r\n            ? <div onClick={\r\n                () => { window.history.replaceState('', '', this.props.goBack?.oldLocation); this.props.goBack?.action(); }\r\n            }> Trở về</div >\r\n            : <Link to=\"/admin/permissions\">Trở về</Link>;\r\n        return (\r\n            <div className={`menu-select-layout ${this.state.isDisable ?  'disabled' : ''}`} style={{ height: '100%' }}>\r\n                <div className=\"menu-select\">\r\n                    <ul>\r\n                        <li className=\"bg-danger text-white\"\r\n                            onClick={(evt) => {\r\n                                let firstChild = evt.currentTarget.firstChild; firstChild && (firstChild as any).click();\r\n                            }}>{btnGoBack}</li>\r\n                        <li className={viewAction === 'view-info' ? 'active' : ''} view-action=\"view-info\" onClick={this.menuClickEvent.bind(this)}>Xem thông tin</li>\r\n                        <li className={viewAction === 'update-permission' ? 'active' : ''} view-action=\"update-permission\" onClick={this.menuClickEvent.bind(this)}>Cập nhật thông tin</li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"child-content\">\r\n                    <div className={`form-container`}>\r\n                        <AdminMessageRequest ref={this.adminMessageRequest} />\r\n                        {\r\n                            !this.state.isNotFoundResult ? (\r\n                                <div>\r\n                                    { viewAction === \"view-info\"\r\n                                        && <div>\r\n                                            <div className=\"d-flex justify-content-between\">\r\n                                                <h2>Thông tin Chức năng {this.state.permissionInfo.name}</h2>\r\n                                            </div>\r\n                                            <br />\r\n                                            <table className=\"table wtable-info\">\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td>ID</td>\r\n                                                        <td>{permissionInfo.id}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Mã Chức năng</td>\r\n                                                        <td>{permissionInfo.code}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Đường dẫn</td>\r\n                                                        <td>{permissionInfo.api}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Phương thức</td>\r\n                                                        <td>{permissionInfo.method}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Khởi tạo</td>\r\n                                                        <td><Link to={`/admin/admin-user/detail?adminCode=${permissionInfo.modifiedBy}`}>{permissionInfo.modifiedBy}</Link> - {moment(permissionInfo.modifiedDate).calendar()}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Cập nhật</td>\r\n                                                        <td><Link to={`/admin/admin-user/detail?adminCode=${permissionInfo.createBy}`}>{permissionInfo.createBy}</Link> - {moment(permissionInfo.createDate).calendar()}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>Mô tả</td>\r\n                                                        <td>{permissionInfo.description}</td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                            </table>\r\n                                        </div>\r\n                                    }\r\n                                    { viewAction === 'update-permission' && <UpdatePermission\r\n                                        adminMessageRequest={this.adminMessageRequest.current as any}\r\n                                        permissionInfo={this.state.permissionInfo}\r\n                                        onUpdateSuccess={() => { this.setState({ nextUpdate: true }) }}\r\n                                    />}\r\n                                </div>\r\n                            ) : <div className=\"d-flex space-sm\">\r\n                                    <Button color=\"primary\" size=\"sm\" onClick={this.getPermission.bind(this)}>Tải lại</Button>\r\n                                    {btnGoBack}\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    updatePermission() {\r\n        // this.editForm.current?.update(this.adminMessageRequest.current as any);\r\n    }\r\n    async getPermission() {\r\n        await this.setState({ isDisable: true });\r\n        let id = new URLSearchParams(window.location.search).get(\"id\") || (this.props.goBack && this.props.goBack.id);\r\n        if (!id) {\r\n            this.setState({ isNotFoundResult: true, isDisable: false }); return;\r\n        }\r\n\r\n        window.history.replaceState('', '', `/admin/permission/detail?id=${id}`);\r\n\r\n        let resultReq = await this.adminMessageRequest.current?.sendRequest(() => { return PermissionAPI.getPermission(id as any) }, { hideWhenDone: true });\r\n\r\n        if (resultReq) {\r\n            let permissionInfo = resultReq.data;\r\n            console.log(permissionInfo);\r\n            await this.setState({ permissionInfo: permissionInfo, isDisable: false });\r\n        } else {\r\n            this.setState({ isNotFoundResult: true, isDisable: false });\r\n        };\r\n    }\r\n}","import moment from \"moment\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"reactstrap\";\r\nimport PermissionAPI, { PermissionAPIResult } from \"../../../api/admin/permission-api\";\r\nimport Utils from \"../../../common/Utils\";\r\nimport WCheckBox from \"../../../components/wcheckbox\";\r\nimport WTable from \"../../../components/wtable\";\r\nimport SYSTEM_CONSTANTS from \"../../../constants\";\r\nimport AddSVG from \"../../../logo-svg/add\";\r\nimport CancelSVG from \"../../../logo-svg/cancel\";\r\nimport EditSVG from \"../../../logo-svg/edit\";\r\nimport AdminMessageRequest from \"../../../page-component/admin/admin-message-request\";\r\nimport DetailPermission from \"./detail-permission\";\r\n\r\ninterface ViewPermissionState {\r\n    action: undefined | 'view-detail-page',\r\n    isSelectedAll: boolean,\r\n}\r\nexport default class ViewPermission extends React.Component<any, ViewPermissionState>{\r\n    tableRef: React.RefObject<WTable> = React.createRef();\r\n    requestMessage: React.RefObject<AdminMessageRequest> = React.createRef();\r\n    firstNumOfKey: number;\r\n    idsSelected: number[] = [];\r\n    page: number;\r\n    limit: number;\r\n    idSelected: number = 0;\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"main-view\">\r\n                {\r\n                    this.state.action === 'view-detail-page' && <DetailPermission goBack={{\r\n                        action: () => { this.setState({ action: undefined }) },\r\n                        id: this.idSelected,\r\n                        oldLocation: window.location.href\r\n                    }} />\r\n                }\r\n                <div style={this.state.action === undefined ? undefined : { display: 'none' }}>\r\n                    <AdminMessageRequest ref={this.requestMessage} />\r\n                    <div className=\"d-flex f-bar space-sm\">\r\n                        <Link to=\"/admin/permission/add\" className=\"btn btn-primary btn-sm\"> <AddSVG className=\"icon\" color=\"white\" /> <span>Thêm chức năng</span> </Link>\r\n                        <Button color=\"danger\" size=\"sm\" onClick={this.deleteIdsSelected.bind(this)}> <CancelSVG className=\"icon\" color=\"white\" /> <span>Xóa</span> </Button>\r\n                    </div>\r\n                    <WTable ref={this.tableRef} getPage={this.getPage.bind(this)}\r\n                        fillData={this.fillData.bind(this)}\r\n                        headers={[\r\n                            '#',\r\n                            <WCheckBox className=\"cc\" checked={this.state.isSelectedAll} onChange={(evt) => {\r\n                                let isSelectedAll = evt.currentTarget.checked;\r\n                                this.setState({ isSelectedAll: isSelectedAll });\r\n                                $('tr > td:nth-child(2) > .id-checkbox > input[type=\"checkbox\"]', this.tableRef.current?.tableBody.current)\r\n                                    .each((index, e: any) => {\r\n                                        e.checked !== isSelectedAll && e.click();\r\n                                    });\r\n                            }} />,\r\n                            'Tên CN',\r\n                            'Request',\r\n                            'Cập nhật',\r\n                            <div className=\"text-center\">Chi tiết</div>\r\n                        ]}\r\n                        limit={this.limit}\r\n                        page={this.page}\r\n                        onPageChangeEvent={(evt) => {\r\n                            if (evt.limitChange !== this.limit || evt.pageChange !== this.page) {\r\n                                this.page = evt.pageChange;\r\n                                this.limit = evt.limitChange;\r\n                                window.history.pushState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            } else {\r\n                                window.history.replaceState('', '', `?page=${this.page}&limit=${this.limit}`);\r\n                            }\r\n                        }} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.firstNumOfKey = 0;\r\n        let { page, limit } = Utils.getPageRequest();\r\n        this.page = page; this.limit = limit;\r\n        this.state = {\r\n            action: undefined,\r\n            isSelectedAll: false\r\n        }\r\n    }\r\n    async deleteIdsSelected() {\r\n        let result = await this.requestMessage.current?.sendRequest(() => { return PermissionAPI.deletePermissions(this.idsSelected) });\r\n        if (result) {\r\n            this.tableRef.current?.reloadPage();\r\n        }\r\n    }\r\n    showDetailPage(id: number) {\r\n        this.idSelected = id;\r\n        this.setState({ action: 'view-detail-page' });\r\n    }\r\n    fillData(data: PermissionAPIResult, index?: number | undefined) {\r\n        return <tr key={`${this.firstNumOfKey}${index}`} onClick={\r\n            (evt) => {\r\n                let checkbox = $('.id-checkbox', evt.currentTarget)[0];\r\n                if ($(checkbox).find(evt.target as any).length === 0 && checkbox !== evt.target) {\r\n                    checkbox.click();\r\n                }\r\n            }\r\n        }>\r\n            <td>{index}</td>\r\n            <td><WCheckBox className=\"id-checkbox\" onChange={(evt) => {\r\n                let index = this.idsSelected.indexOf(data.id);\r\n                if (index !== -1) this.idsSelected.splice(index, 1);\r\n                evt.currentTarget.checked && this.idsSelected.push(data?.id);\r\n            }} checked={this.state.isSelectedAll} /></td>\r\n            <td>{data.name}</td>\r\n            <td>{`${data.api} -> ${data.method}`}</td>\r\n            <td title={`Cập nhât: ${data.modifiedBy} - ${moment(data.modifiedDate).calendar()}\\nKhởi tạo: ${data.createBy} - ${moment(data.createDate).calendar()}`\r\n            }>{data.modifiedBy}</td>\r\n            <td className=\"text-center\">\r\n                <Button color=\"primary\" size=\"sm\" onClick={() => { this.showDetailPage(data.id) }}>\r\n                    <EditSVG color=\"white\" className=\"icon\" />\r\n                </Button></td>\r\n        </tr >;\r\n    }\r\n    componentDidMount() {\r\n        window.history.replaceState('', '', `/admin/permissions?page=${this.page}&limit=${this.limit}`);\r\n        this.tableRef.current?.getPage(this.page, this.limit);\r\n    }\r\n    async getPage(page: number, limit: number): Promise<any> {\r\n        this.firstNumOfKey = (!this.firstNumOfKey as any + 0);\r\n        let data = await this.requestMessage.current\r\n            ?.sendRequest(\r\n                () => { return PermissionAPI.getAllPermission({ page: page, limit: limit, isUnlimited: false }) },\r\n                { hideWhenDone: true, hideWaiting: true, getFailed: true }\r\n            );\r\n        console.log(page, limit);\r\n        this.idsSelected = [];\r\n        if (data !== undefined) {\r\n            if (data.message.code === 0) {\r\n                return {\r\n                    data: data.data,\r\n                    limit: Number(limit),\r\n                    offset: data.message.data.offset,\r\n                    page: data.message.data.page,\r\n                    totalPage: data.message.data.totalPage,\r\n                    totalRecord: data.message.data.totalRecord\r\n                };\r\n            } else if (data.message.code === SYSTEM_CONSTANTS.ERROR_REQUEST.PAGE_OUT_INDEX) {\r\n                return await (this.getPage(data.message.data.totalPage, limit));\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n}","import { debug } from 'console';\r\nimport React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport AdminAuthenticationProvider, { AdminAuthentication } from '../../contexts/admin-authencation';\r\nimport AdminOverrideWindowProvider, { AdminOverrideWindow } from '../../contexts/admin-overide-window';\r\nimport AdminHeader from '../../page-component/admin/admin-header';\r\nimport MenuTab from '../../page-component/admin/menu-tab';\r\nimport './admin-page.scss';\r\nimport AddAdminUser from './admin-user/add-user';\r\nimport AdminUserPage from './admin-user/admin-users-view';\r\nimport DetailAdminUser from './admin-user/detail-user';\r\nimport AddBook from './book/add-book';\r\nimport ViewBook from './book/view-book';\r\nimport AddGroupPermission from './group-permission/add-group-permisison';\r\nimport DetailGroupPermission from './group-permission/detail-group-permission';\r\nimport ViewGroupPermission from './group-permission/view-group-permission';\r\nimport AddPermission from './permission/add-permission';\r\nimport DetailPermission from './permission/detail-permission';\r\nimport ViewPermission from './permission/view-permission';\r\n\r\nconst menu = [\r\n    {\r\n        content: 'Tài khoản quản trị', items: [\r\n            { content: 'Tài khoản', hrefLink: '/admin/admin-users' },\r\n            { content: 'Chức năng', hrefLink: '/admin/permissions' },\r\n            { content: 'Nhóm chức năng', hrefLink: '/admin/groups' }\r\n        ]\r\n    }, {\r\n        content: 'Quản lí sách', items: [\r\n            { content: 'Sách', hrefLink: '/admin/books' },\r\n            { content: 'Nhà xuất bản', hrefLink: '/admin/book/publishers' },\r\n            { content: 'Tác giả', hrefLink: '/admin/book/authors' },\r\n            { content: 'Thê loại', hrefLink: '/admin/book/category' },\r\n        ]\r\n    }\r\n]\r\n\r\nexport default class AdminPage extends React.Component<{}, { isHideScroll: boolean }> {\r\n    isClearWindow = true;\r\n    adminHeader = React.createRef<AdminHeader>();\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = { isHideScroll: false };\r\n    }\r\n\r\n    render() {\r\n        this.isClearWindow = true;\r\n        return (\r\n            <AdminAuthenticationProvider>\r\n                <AdminOverrideWindowProvider>\r\n                    <AdminAuthentication.Consumer>\r\n                        {({ isLogin }) => {\r\n                            return isLogin\r\n                                ? <div id=\"parent-layout\">\r\n                                    <AdminHeader minScreenResizeMenuTab={500} ref={this.adminHeader} />\r\n                                    <div id='app-body' style={{ height: 'calc(100% - 35px)', width: '100%', position: 'relative' }}\r\n                                        className={`d-inline-flex align-items-start ${this.state.isHideScroll ? 'overflow-hidden' : ''}`}>\r\n                                        <MenuTab menu={menu} getAdminHeader={() => { return this.adminHeader.current as any }}></MenuTab>\r\n                                        <div id='app-content'>\r\n                                            <Switch>\r\n                                                <Route key={Math.random()} exact path=\"/admin\" component={AdminUserPage}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/admin-users\" component={AdminUserPage}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/groups\" component={ViewGroupPermission}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/group/add\" component={AddGroupPermission}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/admin-user/detail\" component={DetailAdminUser}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/permissions\" component={ViewPermission}></Route>\r\n                                                <Route key={Math.random()} exact path=\"/admin/books\" component={ViewBook}></Route>\r\n                                                <Route exact path=\"/admin/book/add\" component={AddBook}></Route>\r\n                                                <Route exact path=\"/admin/admin-user/add\" component={AddAdminUser}></Route>\r\n                                                <Route exact path=\"/admin/permission/detail\" component={DetailPermission}></Route>\r\n                                                <Route exact path=\"/admin/group/detail\" component={DetailGroupPermission}></Route>\r\n                                                <Route exact path=\"/admin/permission/add\" component={AddPermission}></Route>\r\n                                                <Route exact path=\"/admin/groups\" component={ViewGroupPermission}></Route>\r\n                                            </Switch>\r\n                                            <AdminOverrideWindow.Consumer>\r\n                                                {({ windows, clear }) => {\r\n                                                    if (this.isClearWindow) {\r\n                                                        debugger\r\n                                                        clear();\r\n                                                        this.isClearWindow = false;\r\n                                                        return null;\r\n                                                    } else {\r\n                                                        if (windows.length > 0) {\r\n                                                            setTimeout(() => { this.isClearWindow = false; this.setState({ isHideScroll: true }) })\r\n                                                            return (\r\n                                                                <div className=\"override-content\">\r\n                                                                    {windows.map((w, index) => {\r\n                                                                        return <div style={{ zIndex: 100 + index }} children={w} />\r\n                                                                    })}\r\n                                                                </div>\r\n                                                            )\r\n                                                        } else {\r\n                                                            return null;\r\n                                                        }\r\n                                                    }\r\n                                                }}\r\n                                            </AdminOverrideWindow.Consumer>\r\n                                        </div>\r\n                                    </div>\r\n                                </div >\r\n                                : <Redirect to=\"/admin/login\"></Redirect>\r\n                        }}\r\n                    </AdminAuthentication.Consumer>\r\n                </AdminOverrideWindowProvider>\r\n            </AdminAuthenticationProvider>\r\n        )\r\n    }\r\n}","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from 'react';\r\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport ScreenProvider from './contexts/screen-context';\r\nimport LoginPage from './pages/admin/admin-login';\r\nimport AdminLogout from './pages/admin/admin-logout';\r\nimport AdminPage from './pages/admin/admin-page';\r\n\r\nexport function App() {\r\n  return (\r\n    <ScreenProvider>\r\n      <Router>\r\n        <div className=\"App\">\r\n          <input type=\"text\" style={{position: 'fixed', top: -99}} id=\"lost-focus\"></input>\r\n          <Switch>\r\n            <Route exact path=\"/admin/login\" component={LoginPage}></Route>\r\n            <Route exact path=\"/admin/logout\" render={() => {\r\n              return <AdminLogout />;\r\n            }}></Route>\r\n            <Route path=\"/admin\" component={AdminPage} />\r\n            <Route path=\"/\"><NotFound></NotFound></Route>\r\n          </Switch>\r\n        </div>\r\n      </Router >\r\n    </ScreenProvider>\r\n  );\r\n}\r\nfunction NotFound() {\r\n  return (<div>\r\n    <h2>Not Found this Page</h2>\r\n    <h2><Link to=\"/admin\" children=\"Go to Admin Page :)\"/></h2>\r\n  </div>);\r\n}\r\n \r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { App } from './App';\r\nimport moment from 'moment';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode >\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n(() => {\r\n  let time: number;\r\n  (window as any).moment = moment;\r\n  let evtClick = (evt: any) => {\r\n    let timeNow = new Date().getTime();\r\n    if (timeNow - 100 < time) { window.getSelection()?.removeAllRanges(); }\r\n  }\r\n  document.addEventListener('dblclick', evtClick)\r\n  document.addEventListener('mousedown', () => { time = new Date().getTime(); })\r\n})();\r\n\r\n(window as any).loginDefault = () => {\r\n  window.localStorage.token = 'eyJhbGciOiJIUzUxMiJ9.eyJ0b2tlbklkIjozMDkyNjc4MjQxMTcxNDU1LCJhZG1pbklkIjo1NzE3NDc5MzkzNTYwMDUsImFkbWluQ29kZSI6Ik5WQyIsImV4cCI6MTkxMzU2MjYxOCwiaWF0IjoxNTk4MjAyNjE4fQ.VYT-aBPMcQtc2W67K-i5PLGyp6jEXTvV9zY7du0gZ_PbH4Qj3FDy0QzQEmLxIMhjYEAtKDZd_CuLRfHOjAvkig';\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}